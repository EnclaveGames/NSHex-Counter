!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexuiplugin=e():t.rexuiplugin=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=370)}({0:function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,o=i,s=0;s<n.length;s++){if(!r.hasOwnProperty(n[s])){o=i;break}o=r[n[s]],r=r[n[s]]}return o}return i}return i}},1:function(t,e,i){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},10:function(t,e,i){"use strict";var n=i(7);e.a=function(t,e){var i=Array.isArray(t);for(var r in void 0===e?e=i?[]:{}:Object(n.a)(e),i&&(e.length=t.length),t)e[r]=t[r];return e}},107:function(t,e,i){"use strict";var n=i(4),r=i(7);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,h=Phaser.Math.Distance.Between,u=Phaser.Math.Angle.Between,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.input.manager.pointersTotal-1;n<2&&e.input.addPointer(2-n),this.scene=e,this.setEventEmitter(s(i,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(r.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(r.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t){if(this.enable&&(2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t)))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=d,this.onDrag1Start();break;case d:this.tracerState=p,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case d:this.tracerState=f,this.onDrag1End();break;case p:this.tracerState=d,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case d:this.onDrag1();break;case p:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===p&&this.onDrag2End(),this.pointers.length=0,Object(r.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0],e=this.pointers[1];return h(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0],e=this.pointers[1];return u(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;c.x=e.x-i.x,c.y=e.y-i.y}else c.x=0,c.y=0;return c}},{key:"centerX",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==p)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==p)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==p)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&o(e.prototype,i),n&&o(e,n),t}();Object.assign(l.prototype,n.a);var c={},f=0,d=1,p=2,y="IDLE";e.a=l},11:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,i,r;return e=t,(i=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&n(e.prototype,i),r&&n(e,r),t}();e.a=r},110:function(t,e,i){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},111:function(t,e,i){"use strict";var n={};e.a=function(t,e,i){switch(void 0===i?i={}:!0===i&&(i=n),i.left=!1,i.right=!1,i.up=!1,i.down=!1,t=(t+360)%360,e){case 0:t<180?i.down=!0:i.up=!0;break;case 1:t>90&&t<=270?i.left=!0:i.right=!0;break;case 2:t>45&&t<=135?i.down=!0:t>135&&t<=225?i.left=!0:t>225&&t<=315?i.up=!0:i.right=!0;break;case 3:t>22.5&&t<=67.5?(i.down=!0,i.right=!0):t>67.5&&t<=112.5?i.down=!0:t>112.5&&t<=157.5?(i.down=!0,i.left=!0):t>157.5&&t<=202.5?i.left=!0:t>202.5&&t<=247.5?(i.left=!0,i.up=!0):t>247.5&&t<=292.5?i.up=!0:t>292.5&&t<=337.5?(i.up=!0,i.right=!0):i.right=!0}return i}},116:function(t,e,i){"use strict";var n=Phaser.Utils.Objects.GetValue,r={id:["id",void 0],width:["width",void 0],height:["height",void 0],autoPlay:["autoplay",!0],controls:["controls",!1],loop:["loop",!1],poster:["poster",void 0],preload:["preload",void 0],muted:["muted",!1],playsInline:["playsInline",!0],crossOrigin:["crossOrigin","anonymous"]},o={canplay:"canplay",canplaythrough:"canplaythrough",ended:"ended",error:"error",loadstart:"loadstart",playing:"playing",pause:"pause",stalled:"stalled"},s=function(t){var e,i,s=this,a=document.createElement("video");for(var h in r)e=r[h],void 0!==(i=n(t,h,e[1]))&&(a[e[0]]=i);var u=n(t,"eventEmitter",void 0);if(u){var l=function(t){a.addEventListener(o[t],function(){u.emit(t,this)}.bind(s))};for(var c in o)l(c)}return a},a=Phaser.Utils.Objects.IsPlainObject,h=["webm","ogg","mp4","h264","vp9","hls"],u=function(t,e,i){if(a(e))for(var n,r=0,o=h.length;r<o;r++)if(i[(n=h[r])+"Video"]&&e.hasOwnProperty(n)){e=e[n];break}t.src=e,t.load()};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Clamp;e.a=function(t){return function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),f(this,p(i).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(i,t),n=i,(r=[{key:"createVideoElement",value:function(t){return this.video||(void 0===t&&(t={}),t.eventEmitter=this,this.video=s(t),this.playbackTimeChangeEventEnable=v(t,"playbackTimeChangeEventEnable",!0)),this.video}},{key:"preDestroy",value:function(){this.scene&&(this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0),d(p(i.prototype),"preDestroy",this)&&d(p(i.prototype),"preDestroy",this).call(this))}},{key:"preUpdate",value:function(t,e){if(this.playbackTimeChangeEventEnable){var n=this.playbackTime;n!==this.prevT&&this.emit("playbacktimechange",this),this.prevT=n}d(p(i.prototype),"preUpdate",this)&&d(p(i.prototype),"preUpdate",this).call(this,t,e)}},{key:"load",value:function(t){return this.video&&u(this.video,t,this.availableVideoTypes),this}},{key:"play",value:function(){return this.video&&this.video.play(),this}},{key:"pause",value:function(){return this.video&&this.video.pause(),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"availableVideoTypes",get:function(){return this.scene.sys.game.device.video}},{key:"isPlaying",get:function(){if(this.video){var t=this.video;return!t.paused&&!t.ended&&t.currentTime>0}return!1}},{key:"isPaused",get:function(){return!!this.video&&this.video.paused}},{key:"playbackTime",get:function(){return this.video&&this.video.currentTime||0},set:function(t){if(this.video)try{this.video.currentTime=t}catch(t){}}},{key:"duration",get:function(){return this.video&&this.video.duration||0}},{key:"t",get:function(){if(this.video){var t=this.duration;return 0===t?0:this.playbackTime/t}return 0},set:function(t){this.video&&(this.playbackTime=this.duration*g(t,0,1))}},{key:"hasEnded",get:function(){return!!this.video&&this.video.ended}},{key:"volume",get:function(){return this.video&&this.video.volume||0},set:function(t){this.video&&(this.video.volume=t)}},{key:"muted",get:function(){return this.video&&this.video.muted||!1},set:function(t){this.video&&(this.video.muted=t)}},{key:"loop",get:function(){return!!this.video&&this.video.loop},set:function(t){this.video&&(this.video.loop=t)}},{key:"readyState",get:function(){return this.video?this.video.readyState:void 0}}])&&c(n.prototype,r),o&&c(n,o),i}()}},118:function(t,e,i){"use strict";var n=i(3),r=i(4);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this.holdThreshold=s(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.on("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"onPointIn",value:function(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}},{key:"preupdate",value:function(t,e){var i=this.pointer;this.justMoved=!1,i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&o(e.prototype,i),r&&o(e,r),t}();Object.assign(h.prototype,r.a);var u=h;e.a=u},119:function(t,e,i){"use strict";var n=i(58),r=Phaser.Geom.Intersects.RectangleToRectangle,o=Phaser.Geom.Rectangle.Overlaps,s=function(t,e){var i=0,n=e.top,r=e.bottom,o=e.left,s=e.right;return i+=t.contains(o,n)?1:0,i+=t.contains(o,r)?1:0,i+=t.contains(s,n)?1:0,i+=t.contains(s,r)?1:0},a=function(t,e){t.setVisible(!0).clearMask()},h=function(t,e){t.setVisible(!0).setMask(e)},u=function(t,e){t.setVisible(!1).clearMask()};e.a=function(t,e,i){if(e){void 0===i&&(i=t.getAllChildren());for(var l,c,f=t.getBounds(),d=Object(n.a)(e),p=0,y=i.length;p<y;p++)if(!(l=i[p]).hasOwnProperty("isRexContainerLite")&&l!==d){if(l.getBounds)switch(c=l.getBounds(c),s(f,c)){case 4:a(l,e);break;case 0:r(f,c)||o(f,c)?h(l,e):u(l,e);break;default:h(l,e)}else h(l,e);t.resetChildVisibleState(l).updateChildVisible(l)}}}},12:function(t,e,i){"use strict";i.r(e);e.default=function(){}},124:function(t,e,i){"use strict";var n=i(107),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,u(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(h)),n}var i,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(u(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?y:p}},{key:"onDrag2End",value:function(){this.state=d}},{key:"onDrag2",value:function(){switch(this.state){case p:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=y}break;case y:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===y}}])&&s(i.prototype,f),v&&s(i,v),e}(),d="IDLE",p="BEGIN",y="RECOGNIZED";e.a=f},134:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o){if(0!==e.width&&0!==e.height){var s=e.frame,a=s.width,h=s.height,u=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,h,e.x,e.y,a/e.style.resolution,h/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,r.alpha*e._alphaTL),u(e._tintTR,r.alpha*e._alphaTR),u(e._tintBL,r.alpha*e._alphaBL),u(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}}},135:function(t,e){t.exports=function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)}},137:function(t,e,i){"use strict";var n=i(59),r={};e.a=function(t,e,i,o){return i instanceof n.a&&(o=i,i=void 0),void 0===i&&(i=!0),r.mode=i?1:0,r.end=0,r.duration=e,void 0===o?o=new n.a(t,r):o.resetFromJSON(r),o.restart(),o}},14:function(t,e,i){"use strict";var n=i(4),r=i(0),o=i.n(r);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=o()(e,"states",void 0);i&&this.addStates(i);var n=o()(e,"extend",void 0);if(n)for(var r in n)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=n[r]);var s=o()(e,"eventEmitter",void 0),a=o()(e,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(o()(t,"enable",!0)),this.start(o()(t,"start",void 0));var e=o()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var i=o()(e,"next",void 0);i&&(this["next_"+t]=i);var n=o()(e,"exit",void 0);n&&(this["exit_"+t]=n);var r=o()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,i){void 0===i&&(i="update");var n=this[i+"_"+this.state];n&&n.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var n="enter_"+this._state,r=this[n];r&&r.call(this),this.emit(n,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&s(e.prototype,i),n&&s(e,n),t}();Object.assign(a.prototype,n.a);var h=a;e.a=h},140:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,h,u,l,d,y,v=e&&e.length,g=v?e[0]*i:t.length,b=r(t,0,g,i,!0),m=[];if(!b||b.next===b.prev)return m;if(v&&(b=function(t,e,i,n){var s,a,h,u,l,d=[];for(s=0,a=e.length;s<a;s++)h=e[s]*n,u=s<a-1?e[s+1]*n:t.length,(l=r(t,h,u,n,!1))===l.next&&(l.steiner=!0),d.push(p(l));for(d.sort(c),s=0;s<d.length;s++)f(d[s],i),i=o(i,i.next);return i}(t,e,b,i)),t.length>80*i){n=h=t[0],a=u=t[1];for(var x=i;x<g;x+=i)l=t[x],d=t[x+1],l<n&&(n=l),d<a&&(a=d),l>h&&(h=l),d>u&&(u=d);y=0!==(y=Math.max(h-n,u-a))?1/y:0}return s(b,m,i,n,a,y),m}function r(t,e,i,n,r){var o,s;if(r===P(t,e,i,n)>0)for(o=e;o<i;o+=n)s=w(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=w(o,t[o],t[o+1],s);return s&&b(s,s.next)&&(k(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!b(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(k(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,r,c,f){if(t){!f&&c&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(h=u;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,h--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(s>1)}(r)}(t,n,r,c);for(var p,y,v=t;t.prev!==t.next;)if(p=t.prev,y=t.next,c?h(t,n,r,c):a(t))e.push(p.i/i),e.push(t.i/i),e.push(y.i/i),k(t),t=y.next,v=y.next;else if((t=y)===v){f?1===f?s(t=u(t,e,i),e,i,n,r,c,2):2===f&&l(t,e,i,n,r,c):s(o(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(g(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&g(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,e,i,n){var r=t.prev,o=t,s=t.next;if(g(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,h=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,l=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=d(a,h,e,i,n),f=d(u,l,e,i,n),p=t.prevZ,v=t.nextZ;p&&p.z>=c&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!b(r,o)&&m(r,n,n.next,o)&&x(r,o)&&x(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),k(n),k(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,i,n,r,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var l=O(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,i,n,r,a),void s(l,e,i,n,r,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i.prev;var h,u=i,l=i.x,c=i.y,f=1/0;n=i.next;for(;n!==u;)r>=n.x&&n.x>=l&&r!==n.x&&y(o<c?r:s,o,l,c,o<c?s:r,o,n.x,n.y)&&((h=Math.abs(o-n.y)/(r-n.x))<f||h===f&&n.x>i.x)&&x(n,t)&&(i=n,f=h),n=n.next;return i}(t,e)){var i=O(e,t);o(i,i.next)}}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function y(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&m(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function g(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,i,n){return!!(b(t,e)&&b(i,n)||b(t,n)&&b(i,e))||g(t,e,i)>0!=g(t,e,n)>0&&g(i,n,t)>0!=g(i,n,e)>0}function x(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function O(t,e){var i=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function w(t,e,i,n){var r=new S(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function k(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(P(t,0,o,i));if(r)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;s-=Math.abs(P(t,u,l,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,d=n[a+1]*i,p=n[a+2]*i;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},141:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(12),o=i(12);n(!0)&&(r=i(181)),n(!0)&&(o=i(184)),t.exports={renderWebGL:r,renderCanvas:o}},144:function(t,e,i){"use strict";var n=i(4),r=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"mode",1)),this.setClickInterval(s(t,"clickInterval",100)),this.setDragThreshold(s(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t,this)}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t))}},{key:"onRelease",value:function(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e){if(void 0===t)return this.emit("click",this,this.gameObject,e),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.gameObject,e),this)}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&o(e.prototype,i),n&&o(e,n),t}();Object.assign(a.prototype,n.a);var h={press:0,pointerdown:0,release:1,pointerup:1};e.a=a},145:function(t,e,i){"use strict";var n;e.a=function(t,e){void 0===e&&(void 0===n&&(n=new Phaser.Geom.Rectangle),e=n);var i=t.game.config;return e.setTo(0,0,i.width,i.height),e}},146:function(t,e,i){"use strict";var n=Phaser.GameObjects.Text;e.a=function(t){return t instanceof n}},15:function(t,e){var i=Math.PI/180;t.exports=function(t){return t*i}},154:function(t,e,i){"use strict";var n=i(60),r={};e.a=function(t,e,i,o,s,a){switch(s instanceof n.a&&(a=s,s=void 0),void 0===s&&(s=!0),r.mode=s?1:0,i){case"x":r.end={x:0};break;case"y":r.end={y:0};break;default:r.end=0}return r.duration=e,r.ease=void 0===o?"Linear":o,void 0===a?a=new n.a(t,r):a.resetFromJSON(r),a.restart(),a}},155:function(t,e,i){"use strict";var n=i(60),r={};e.a=function(t,e,i,o,s){switch(r.mode=0,i){case"x":r.start={x:0};break;case"y":r.start={y:0};break;default:r.start=0}return r.end=1,r.duration=e,r.ease=void 0===o?"Cubic":o,void 0===s?s=new n.a(t,r):s.resetFromJSON(r),s.restart(),s}},156:function(t,e,i){"use strict";var n=i(3),r=i(4),o=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=h(this,u(e).call(this,i))).parent=t,n.init(),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o["a"]),i=e,(n=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&a(i.prototype,n),r&&a(i,r),e}(),f=i(118);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=Phaser.Utils.Objects.GetValue,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setValue(p(t,"value",0)),this.setSpeed(p(t,"speed",0)),this.setAcceleration(p(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&d(e.prototype,i),n&&d(e,n),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new y}var e,i,n;return e=t,(i=[{key:"init",value:function(t,e,i,n,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-n),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&v(e.prototype,i),n&&v(e,n),t}();function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,x=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(m(i,"eventEmitter",void 0));var r=m(i,"enable",!0),o={enable:r,eventEmitter:!1};this._state=new c(this,o);var s={inputConfig:m(i,"inputConfig",void 0),enable:r,eventEmitter:!1};this.dragState=new f.a(e,s),this._value=void 0,this._slowDown=new g;var a=m(i,"valuechangeCallback",null);if(null!==a){var h=m(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,h)}if(null!==(a=m(i,"overmaxCallback",null))){h=m(i,"overmaxCallbackScope",void 0);this.on("overmax",a,h)}if(null!==(a=m(i,"overminCallback",null))){h=m(i,"overminCallbackScope",void 0);this.on("overmin",a,h)}this.resetFromJSON(i),this.boot()}var e,i,r;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(m(t,"orientation",0)),this.setDragThreshold(m(t,"threshold",10)),this.setSlidingDeceleration(m(t,"slidingDeceleration",5e3)),this.setBackDeceleration(m(t,"backDeceleration",2e3));var e=m(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(m(t,"max",0),m(t,"min",0)),this.setValue(m(t,"value",this.maxValue||0)),this.setEnable(m(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=O[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}},{key:"sliding",value:function(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),n=this.backDeceleration,r=Math.sqrt(2*n*i);this._slowDown.init(t,void 0,r,n,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,i=this.overMax(t),n=this.overMin(t);i&&this.emit("overmax",t,e),n&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),n&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&b(e.prototype,i),r&&b(e,r),t}();Object.assign(x.prototype,r.a);var O={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},w=x;e.a=w},157:function(t,e,i){"use strict";var n=i(3),r=i(146);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Clamp,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(i),this.boot()}var e,i,h;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setText(s(t,"text","")),this.setStartIdx(s(t,"start",0)),this.setPageIdx(s(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=u(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(u(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=a(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=a(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,r,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&o(e.prototype,i),h&&o(e,h),t}(),u=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},l=h;e.a=l},158:function(t,e,i){"use strict";var n=i(3);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetFastValue,f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,h(e).call(this))).gameObject=t,r.scene=Object(n.a)(t),r.timer=null,r.resetFromJSON(i),r.boot(),r}var i,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l),i=e,(r=[{key:"resetFromJSON",value:function(t){this.setTypeMode(f(t,"typeMode",0)),this.setTypeSpeed(f(t,"speed",333)),this.setTextCallback=c(t,"setTextCallback",null),this.setTextCallbackScope=c(t,"setTextCallbackScope",null),this.typingIdx=c(t,"typingIdx",0),this.text=p(c(t,"text","")),this.textLen=c(t,"textLen",0),this.insertIdx=c(t,"insertIdx",null);var e=c(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return a(h(e.prototype),"shutdown",this).call(this),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,i,n){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(n),this}},{key:"appendText",value:function(t){var e=this.text.concat(p(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=p(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,i,n){var r;if(0===n){var o=0,s=e;this.insertIdx=s,r=this.getSubString(t,o,s)}else if(1===n){o=(s=i)-e;this.insertIdx=0,r=this.getSubString(t,o,s)}else if(2===n){var a=i/2;s=(o=Math.floor(a-e/2))+e;this.insertIdx=e%2?e:0,r=this.getSubString(t,o,s)}else if(3===n){var h,u=Math.floor(e/2);if(u>0){o=(s=i)-u;h=this.getSubString(t,o,s)}else h="";var l,c=e-u;if(c>0){s=(o=0)+c;this.insertIdx=s,l=this.getSubString(t,o,s)}else l="",this.insertIdx=0;r=l+h}return r}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?(0,e=0):(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,i){var n=this.gameObject;return n.getSubString?n.getSubString(t,e,i):t.slice(e,i)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&o(i.prototype,r),d&&o(i,d),e}(),p=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},y={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},v=d;e.a=v},172:function(t,e,i){"use strict";var n=i(9),r=i(3),o=i(0),s=i.n(o),a=i(34),h=i(66),u=i(56),l=i(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=d(this,y(e).call(this,t,i))).parent=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,o,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,n["a"]),i=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=s()(t,"isRunning",!1),this.state=s()(t,"state",0),this.commands=s()(t,"commands",[]),this.scope=s()(t,"scope",void 0),this.setTimeUnit(s()(t,"timeUnit",0)),this.setDtMode(s()(t,"dtMode",0)),this.setTimeScale(s()(t,"timeScale",1)),this.index=s()(t,"index",0),this.nextDt=s()(t,"nextDt",0),this.seek(s()(t,"now",0)),this.timeScale=s()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){p(y(e.prototype),"boot",this).call(this);var t=Object(u.a)(this.parent);t&&t.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){p(y(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){p(y(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){p(y(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,i){this.stop();var n=s()(i,"timeUnit",void 0);void 0!==n&&this.setTimeUnit(n);var r=s()(i,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter(function(t){var e=t[0];return!isNaN(e)}).map(function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t}),0===this.dtMode&&t.sort(function(t,e){var i=t[0],n=e[0];return i>n?1:i<n?-1:0}),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var i=this.commands[this.index],n=i[1];if(Object(l.a)(n)||(n=Object(a.a)(b,i,1)),Object(h.a)(n,this.scope),this.emit("runcommand",n,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){p(y(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=x[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=m[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&f(i.prototype,o),c&&f(i,c),e}(),b=[],m={ms:0,s:1,sec:1},x={abs:0,absolute:0,inc:1,increment:1};e.a=g},18:function(t,e,i){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},181:function(t,e,i){var n=i(182),r=i(183);t.exports=function(t,e,i,o,s){var a=this.pipeline,h=a._tempMatrix1,u=a._tempMatrix2,l=a._tempMatrix3;t.setPipeline(a),u.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(o.matrix),s?(h.multiplyWithOffset(s,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),u.e=e.x,u.f=e.y):(u.e-=o.scrollX*e.scrollFactorX,u.f-=o.scrollY*e.scrollFactorY),h.multiply(u,l);var c=e._displayOriginX,f=e._displayOriginY,d=o.alpha*e.alpha;e.isFilled&&n(a,l,e,d,c,f),e.isStroked&&r(a,e,d,c,f)}},182:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o,s){for(var a=i.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*r),h=n.pathData,u=n.pathIndexes,l=0;l<u.length;l+=3){var c=2*u[l],f=2*u[l+1],d=2*u[l+2],p=h[c+0]-o,y=h[c+1]-s,v=h[f+0]-o,g=h[f+1]-s,b=h[d+0]-o,m=h[d+1]-s,x=e.getX(p,y),O=e.getY(p,y),w=e.getX(v,g),k=e.getY(v,g),S=e.getX(b,m),P=e.getY(b,m);t.setTexture2D(),t.batchTri(x,O,w,k,S,P,0,0,1,1,a,a,a,t.tintEffect)}}},183:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o){var s=t.strokeTint,a=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*n);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var h=e.pathData,u=h.length-1,l=e.lineWidth,c=l/2,f=h[0]-r,d=h[1]-o;e.closePath||(u-=2);for(var p=2;p<u;p+=2){var y=h[p]-r,v=h[p+1]-o;t.setTexture2D(),t.batchLine(f,d,y,v,c,c,l,p-2,!!e.closePath&&p===u-1),f=y,d=v}}},184:function(t,e,i){var n=i(185),r=i(186),o=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,i,s,a){var h=t.currentContext;if(o(t,h,e,s,a)){var u=e._displayOriginX,l=e._displayOriginY,c=e.pathData,f=c.length-1,d=c[0]-u,p=c[1]-l;h.beginPath(),h.moveTo(d,p),e.closePath||(f-=2);for(var y=2;y<f;y+=2){var v=c[y]-u,g=c[y+1]-l;h.lineTo(v,g)}h.closePath(),e.isFilled&&(n(h,e),h.fill()),e.isStroked&&(r(h,e),h.stroke()),h.restore()}}},185:function(t,e){t.exports=function(t,e,i,n){var r=i||e.fillColor,o=n||e.fillAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,h=255&r;t.fillStyle="rgba("+s+","+a+","+h+","+o+")"}},186:function(t,e){t.exports=function(t,e,i,n){var r=i||e.strokeColor,o=n||e.strokeAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,h=255&r;t.strokeStyle="rgba("+s+","+a+","+h+","+o+")",t.lineWidth=e.lineWidth}},189:function(t,e,i){"use strict";var n=i(3),r=i(63),o=Phaser.Utils.Objects.GetValue,s=function(t,e){void 0===e&&(e={});var i=t.scene,n=t.style,s=o(e,"backgroundColor",n.backgroundColor);null===s&&(s="transparent"),e.text=o(e,"text",t.text),e.fontFamily=o(e,"fontFamily",n.fontFamily),e.fontSize=o(e,"fontSize",n.fontSize),e.color=o(e,"color",n.color),e.backgroundColor=s;var a=new r.a(i,t.x,t.y,o(e,"width",t.width),o(e,"height",t.height),e);return a.setOrigin(t.originX,t.originY),i.add.existing(a),a},a=i(74);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=Phaser.Utils.Objects.GetValue,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}var e,i,r;return e=t,(i=[{key:"boot",value:function(){return this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.close(),this.gameObject=void 0,this.scene=void 0,c===this&&(c=void 0),this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"open",value:function(t,e){void 0!==c&&c.close(),c=this,Object(a.a)(t)&&(e=t,t=void 0),void 0===e&&(e=u(t,"onClose",void 0));var i=u(t,"onTextChanged",void 0);return this.inputText=s(this.gameObject,t).on("textchange",function(t){var e=t.text;i?i(this.gameObject,e):this.gameObject.text=e},this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,function(){this.scene.input.once("pointerdown",this.close,this)},[],this),this}},{key:"close",value:function(){return c=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}},{key:"isOpened",get:function(){return void 0!==this.inputText}},{key:"text",get:function(){return this.isOpened?this.inputText.text:this.gameObject.text}}])&&h(e.prototype,i),r&&h(e,r),t}(),c=void 0;e.a=l},191:function(t,e,i){"use strict";var n=i(35),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,u(e).call(this,t,i))),h={states:{IDLE:{},BEGIN:{enter:function(){var t=s.pointer;s.startX=t.x,s.startY=t.y,s.startWorldX=t.worldX,s.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var t=s.lastPointer;s.endX=t.x,s.endY=t.y,s.endWorldX=t.worldX,s.endWorldY=t.worldY,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(h)),n}var i,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(u(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?y:p}},{key:"onDragEnd",value:function(){this.state=d}},{key:"onDrag",value:function(){switch(this.state){case p:this.pointer.getDistance()>=this.dragThreshold&&(this.state=y);break;case y:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var i=this.pointer;self.x=i.x,self.y=i.y,self.worldX=i.worldX,self.worldY=i.worldY,this.emit("pan",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===y}}])&&s(i.prototype,f),v&&s(i,v),e}(),d="IDLE",p="BEGIN",y="RECOGNIZED";e.a=f},192:function(t,e,i){"use strict";var n=i(107),r=i(14),o=Phaser.Math.RotateAround,s=function(t,e,i,n){return o(t,e,i,n),t.rotation+=n,t},a={},h=function(t,e){if(!this.isRotation)return this;void 0===e&&(e=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY;e.getWorldPoint(this.centerX,this.centerY,a);var r=a.x,o=a.y,h=this.rotation;if(Array.isArray(t))for(var u=t,l=0,c=u.length;l<c;l++)(t=u[l]).x+=i,t.y+=n,s(t,r,o,h);else t.x+=i,t.y+=n,s(t,x,y,h);return this};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Angle.WrapDegrees,b=Phaser.Math.Angle.ShortestBetween,m=Phaser.Math.RadToDeg,O=Phaser.Math.DegToRad,w=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=c(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?c(t):e}(this,d(e).call(this,t,i))),s={states:{IDLE:{enter:function(){o.prevAngle=void 0,o.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("rotatestart",o)},exit:function(){o.emit("rotateend",o)}}},init:function(){this.state=S},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(s)),n}var i,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,n["a"]),i=e,(o=[{key:"resetFromJSON",value:function(t){return f(d(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(v(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=g(m(this.angleBetween)),this.state=0===this.rotationThreshold?C:P}},{key:"onDrag2End",value:function(){this.state=S}},{key:"onDrag2",value:function(){switch(this.state){case P:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=g(m(this.angleBetween));this.angle=b(this.prevAngle,t),this.prevAngle=t,this.state=C}break;case C:t=g(m(this.angleBetween));this.angle=b(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isRotation",get:function(){return this.state===C}},{key:"rotation",get:function(){return O(this.angle)}}])&&l(i.prototype,o),s&&l(i,s),e}(),k={spinObject:h};Object.assign(w.prototype,k);var S="IDLE",P="BEGIN",C="RECOGNIZED";e.a=w},195:function(t,e,i){"use strict";var n=i(35),r=i(14),o=Phaser.Math.Distance.Between,s=Phaser.Math.Angle.Between,a={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return o(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return s(e.x,e.y,t.x,t.y)}},h=i(110),u=i(111);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=Phaser.Utils.Objects.GetValue,g=Phaser.Math.RadToDeg,b=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=f(n=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?f(t):e}(this,p(e).call(this,t,i))),s={states:{IDLE:{},BEGIN:{enter:function(){o.validDrag=!1}},RECOGNIZED:{enter:function(){o.start(),o.updateDirectionStates(),o.emit("swipe",o,o.gameObject,o.lastPointer)},exit:function(){o.stop(),o.clearDirectionStates()}}},init:function(){this.state=m},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(s)),n.clearDirectionStates(),n}var i,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n["a"]),i=e,(o=[{key:"resetFromJSON",value:function(t){return d(p(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(v(t,"threshold",10)),this.setMinDragVelocity(v(t,"velocityThreshold",1e3)),this.setDirectionMode(v(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=x}},{key:"onDragEnd",value:function(){this.state=m}},{key:"onDrag",value:function(){this.state===x&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=O))}},{key:"postUpdate",value:function(t,e){this.state===O&&(this.state=m)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=h.a[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=g(this.getVelocityAngle());return Object(u.a)(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===O}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityX();break;case 1:t=this.getVelocityY();break;default:t=this.getVelocity()}return t}}])&&c(i.prototype,o),s&&c(i,s),e}();Object.assign(b.prototype,a);var m="IDLE",x="BEGIN",O="RECOGNIZED";e.a=b},2:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"===n(t))if(r(e)){if(null==i)return;"object"===n(i)&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var o=e.pop();((function(t,e,i){void 0===i&&(i={});var o=t;if(r(e));else{var s;"string"==typeof e&&(e=e.split("."));for(var a=0,h=e.length;a<h;a++){var u;null!=o[s=e[a]]&&"object"===n(o[s])||(u=a===h-1?i:{},o[s]=u),o=o[s]}}return o})(t,e))[o]=i}}},25:function(t,e,i){"use strict";var n={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},r=Phaser.Math.RotateAround,o={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,r(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,r(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},s=function(t,e){return t===e?1:t/e},a={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=s(t.scaleX,this.scaleX),e.scaleY=s(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,i){return t.x=e,t.y=i,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,i){var n=this.getLocalState(t);return n.x=e,n.y=i,this.updateChildPosition(t),this}},h={updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},u={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=s(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}},l={updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},c={updateChildMask:function(t){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this)},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}};function f(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=Phaser.Utils.Array,p={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++){var o;if(e=i[n],t.push(e),e.hasOwnProperty("isRexContainerLite"))(o=t).push.apply(o,f(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++)if((e=i[n]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return d.GetFirst(this.list,"name",t)},getRandom:function(t,e){return d.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return d.GetFirstElement(this.list,t,e,i,n)},getAll:function(t,e,i,n){return d.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return d.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return d.Swap(this.list,t,e),this},moveTo:function(t,e){return d.MoveTo(this.list,t,e),this},setAll:function(t,e,i,n){return d.SetAll(this.list,t,e,i,n),this}};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t,e,i,n){return(b="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var r,o=O(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(n,i),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(n,e)){if(!r.writable)return!1;r.value=i,Object.defineProperty(n,e,r)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function m(t,e,i,n,r){if(!b(t,e,i,n||t)&&r)throw new Error("failed to set property");return i}function x(t,e,i){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=O(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function O(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=Phaser.GameObjects.Zone,P=Phaser.GameObjects.Components,C=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(r)&&(s=r,r=void 0),void 0===r&&(r=2),void 0===o&&(o=2),(a=g(this,w(e).call(this,t,i,n,r,o))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,S),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(t&&this.children.clear(!1,!1),this.children.destroy(!t),this.children=void 0,x(w(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return x(w(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(m(w(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return x(w(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(m(w(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return x(w(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(m(w(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return x(w(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(m(w(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&v(i.prototype,n),r&&v(i,r),e}();Object.assign(C.prototype,n,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,i=t.length;e<i;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},o,a,h,u,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},l,c,{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth=t;return this},swapDepth:function(t){var e=this.depth,i=t.depth;return this.setDepth(i),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth+=t;return this}},p,P.Alpha,P.Flip);e.a=C},256:function(t,e,i){"use strict";var n=i(189);e.a=function(t,e,i){return t._edit||(t._edit=new n.a(t)),t._edit.open(e,i),t._edit}},259:function(t,e,i){"use strict";var n=Phaser.Geom.Rectangle,r=function(t,e){void 0===e&&(e=new n);var i=t.canvasBounds,r=t.displayScale,o=t.autoCenter;return e.x=i.x>=0?0:-i.x*r.x,e.y=i.y>=0?0:-i.y*r.y,e.width=i.width*r.x-e.x,e.height=i.height*r.y-e.y,1!==o&&2!==o||(e.width-=e.x),1!==o&&3!==o||(e.height-=e.y),e};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Geom.Rectangle,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.viewport=new a,this.resetFromJSON(i),this.boot()}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e,i;if("string"==typeof t){var n=t.split(",");e=n[0],i=n[1]}else e=s(t,"x","0%+0"),i=s(t,"y","0%+0");e=e.replace("left","0%").replace("right","100%").replace("center","50%").split("%");var r=parseFloat(e[0])/100,o=""===e[1]?0:parseFloat(e[1]);i=i.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%");var a=parseFloat(i[0])/100,h=""===i[1]?0:parseFloat(i[1]);return this.setPercentage(r,a),this.setOffset(o,h),this}},{key:"boot",value:function(){var t=this.gameObject;this.scaleManamger.on("resize",this.onResize,this),t.on("destroy",this.destroy,this),this.onResize()}},{key:"shutdown",value:function(){this.scaleManamger.off("resize",this.onResize,this),this.gameObject=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.offsetX=t,this.offsetY=e,this}},{key:"setPercentage",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.percentageX=t,this.percentageY=e,this}},{key:"onResize",value:function(){r(this.scaleManamger,this.viewport),this.updatePosition()}},{key:"updatePosition",value:function(){return this.gameObject.setPosition(this.x,this.y),this}},{key:"scaleManamger",get:function(){return this.gameObject.scene.scale}},{key:"x",get:function(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}},{key:"y",get:function(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}])&&o(e.prototype,i),n&&o(e,n),t}();e.a=h},27:function(t,e,i){"use strict";var n=i(12),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.default,events:{once:n.default}}},0,0,1,1);r.setOrigin(0),e.a=r},29:function(t,e,i){"use strict";var n=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t?t:(""===t?t=null:n.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)}},3:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t:t.scene&&Object(n.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(n.a)(t.parent.scene)?t.parent.scene:void 0}},33:function(t,e,i){"use strict";var n=Phaser.Display.Canvas.CanvasPool,r={},o=function(t){var e=n.create(this),i=e.getContext("2d");t.syncFont(e,i);var o=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=o,a=2*s;s=s*t.baselineY|0,e.width=o,e.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var h=r;if(!i.getImageData(0,0,o,a))return h.ascent=s,h.descent=s+6,h.fontSize=h.ascent+h.descent,n.remove(e),h;var u,l,c=i.getImageData(0,0,o,a).data,f=c.length,d=4*o,p=0,y=!1;for(u=0;u<s;u++){for(l=0;l<d;l+=4)if(255!==c[p+l]){y=!0;break}if(y)break;p+=d}for(h.ascent=s-u,p=f-d,y=!1,u=a;u>s;u--){for(l=0;l<d;l+=4)if(255!==c[p+l]){y=!0;break}if(y)break;p-=d}return h.descent=u-s,h.fontSize=h.ascent+h.descent,n.remove(e),h},s=i(1);function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=Phaser.Utils.Objects.GetAdvancedValue,u=Phaser.Utils.Objects.GetValue,l={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1);var n=u(i,"metrics",!1);this.metrics=n?{ascent:u(n,"ascent",0),descent:u(n,"descent",0),fontSize:u(n,"fontSize",0)}:o(this)}var e,i,n;return e=t,(i=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=f[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=d[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var n=i.mode;"string"==typeof n&&(i.mode=p[n])}else i.hasOwnProperty("width")&&(i.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),l)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?u(t,l[r][0],l[r][1]):h(t,l[r][0],l[r][1]);var o=u(t,"font",null);this._font=null===o?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:o;var s=u(t,"fill",null);return null!==s&&(this.color=s),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=o(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=u(t,"fontFamily","Courier"),this.fontSize=u(t,"fontSize","16px"),this.fontStyle=u(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,i,n,r,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=o,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=p[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),"string"==typeof e&&(e=f[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in l)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&a(e.prototype,i),n&&a(e,n),t}(),f={left:s.a.hleft,center:s.a.hcenter,right:s.a.hright},d={top:s.a.vtop,center:s.a.vcenter,bottom:s.a.vbottom},p={none:s.a.NO_WRAP,word:s.a.WORD_WRAP,char:s.a.CHAR_WRAP,character:s.a.CHAR_WRAP};e.a=c},34:function(t,e,i){"use strict";e.a=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length),t.length=n-i;for(var r=0,o=t.length;r<o;r++)t[r]=e[r+i];return t}},35:function(t,e,i){"use strict";var n=i(9),r=i(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=Object(r.a)(t);return o===t&&(t=void 0),(n=a(this,u(e).call(this,o,i))).scene=o,n.gameObject=t,t&&t.setInteractive(c(i,"inputConfig",void 0)),n.resetFromJSON(i),n.boot(),n}var i,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(o=[{key:"resetFromJSON",value:function(t){return this.setEnable(c(t,"enable",!0)),void 0===this.gameObject?this.bounds=c(t,"bounds",void 0):this.bounds=void 0,this.tracerState=d,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){h(u(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,h(u(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t?this:(t||this.dragCancel(),this.enable=t,this)}},{key:"onPointerDown",value:function(t,e){this.enable&&(void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=p,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart()))}},{key:"onPointerUp",value:function(t){this.enable&&((!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=d,this.onDragEnd()))}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=this.pointer===t;!i&&e||(i&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===p&&this.onDragEnd(),this.pointer=void 0,this.tracerState=d,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){h(u(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){h(u(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(i.prototype,o),f&&s(i,f),e}(),d=0,p=1,y="IDLE";e.a=f},370:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e}var e,i,r;return e=t,r=[{key:"register",value:function(e,i){t.prototype[e]=i}}],(i=null)&&n(e.prototype,i),r&&n(e,r),t}(),o=i(52).a,s=i(2);r.register("roundRectangle",function(t,e,i,n,r,s,a){var h=new o(this.scene,t,e,i,n,r,s,a);return this.scene.add.existing(h),h}),Object(s.a)(window,"RexPlugins.UI.RoundRectangle",o);var a=i(54).a;r.register("BBCodeText",function(t,e,i,n){var r=new a(this.scene,t,e,i,n);return this.scene.add.existing(r),r}),Object(s.a)(window,"RexPlugins.UI.BBCodeText",a);var h=i(55).a;r.register("tagText",function(t,e,i,n){var r=new h(this.scene,t,e,i,n);return this.scene.add.existing(r),r}),Object(s.a)(window,"RexPlugins.UI.TagText",h);var u=i(25).a;r.register("container",function(t,e,i,n,r){var o=new u(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.Container",u);var l=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},c=i(145),f=function(t){return void 0===t&&(t=Object(c.a)(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},d=new Phaser.Geom.Rectangle,p=function(t,e){void 0===e&&(e=16777215);for(var i,n=this.getAllChildren([this]),r=0,o=n.length;r<o;r++)(i=n[r]).getBounds&&t.lineStyle(1,e).strokeRectShape(i.getBounds(d));return this},y=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},v=function t(e,i){var n;for(var r in void 0===i&&(i=[]),e)void 0!==(n=e[r]).name?i.push(n):t(n,i);return i},g=/(\S+)\[(\d+)\]/i,b=[],m=function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var n=0,r=(o=v(this.childrenMap,b)).length;n<r;n++)if(o[n].name===i){e=o[n];break}b.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var o,s=i.match(g);null!=s&&(o=this.childrenMap[s[1]])&&(e=o[s[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},x=function(){return 0},O=function(){return 0},w=function(t){void 0===t&&(t=[]);for(var e=t.length,i=this.getChildrenSizers(t),n=t.length,r=e;r<n;r++)i[r].getAllChildrenSizers(t);return t},k=function(t){return void 0===t&&(t=[]),t},S=function(t,e,i){},P=function(t){if(!t)for(var e,i=this.getAllChildrenSizers([this]),n=0,r=i.length;n<r;n++)(e=i[n]).rexSizer&&e._layoutInit()},C=function(){},T=i(155),j=Phaser.Utils.Objects.IsPlainObject,_=Phaser.Utils.Objects.GetValue,E=i(154),M=Phaser.Utils.Objects.IsPlainObject,R=Phaser.Utils.Objects.GetValue,D=i(59),I={},z=function(t,e,i,n){return void 0===i&&(i=t.alpha),I.mode=0,I.start=0,I.end=i,I.duration=e,void 0===n?n=new D.a(t,I):n.resetFromJSON(I),n.restart(),n},Y=Phaser.Utils.Objects.IsPlainObject,B=Phaser.Utils.Objects.GetValue,L=i(137),A=Phaser.Utils.Objects.IsPlainObject,W=Phaser.Utils.Objects.GetValue,V=void 0,H=function(t){if(void 0===V&&(V=new Phaser.Geom.Rectangle),this.getBounds(V),void 0!==t)return V.contains(t.x,t.y);for(var e=this.scene.input.manager,i=e.pointersTotal,n=e.pointers,r=0;r<i;r++)if(t=n[r],V.contains(t.x,t.y))return!0;return!1},X=function(t){void 0===t&&(t=this);for(var e=l(t).parent;e;)e=l(t=e).parent;return t},F=i(51),G=i(27),N=Phaser.Display.Align.In.QuickSet,U=Phaser.Display.Align.CENTER,J=function(t,e,i){var n=this.getTopmostSizer();n.x+=e-this.x,n.y+=i-this.y},Z={getSizerConfig:l,pushIntoBounds:f,drawBounds:p,getChildrenWidth:x,getChildrenHeight:O,addChildrenMap:y,addElement:y,getElement:m,getAllChildrenSizers:w,getChildrenSizers:k,layout:S,layoutBackgrounds:function(){if(void 0!==this.backgroundChildren)for(var t,e=this.backgroundChildren,i=this.left,n=this.top,r=this.width,o=this.height,s=0,a=e.length;s<a;s++)(t=e[s]).rexSizer.hidden||(Object(F.a)(t,r,o),G.a.setPosition(i,n).setSize(r,o),N(t,G.a,U),this.resetChildPositionState(t))},layoutInit:P,_layoutInit:C,popUp:function(t,e,i){if(j(t)){var n=t;t=_(n,"duration",void 0),e=_(n,"orientation",void 0),i=_(n,"ease",void 0)}return this._scale=Object(T.a)(this,t,e,i,this._scale),this},scaleDownDestroy:function(t,e,i,n){if(M(t)){var r=t;t=R(r,"duration",void 0),e=R(r,"orientation",void 0),i=R(r,"ease",void 0),n=R(r,"destroy",void 0)}return this._scale=Object(E.a)(this,t,e,i,n,this._scale),this},fadeIn:function(t){Y(t)&&(t=B(t,"duration",void 0));return this._fade=z(this,t,this._fade),this},fadeOutDestroy:function(t,e){if(A(t)){var i=t;t=W(i,"duration",void 0),e=W(i,"destroy",void 0)}return this._fade=Object(L.a)(this,t,e,this._fade),this},isInTouching:H,getTopmostSizer:X,setDraggable:function(t){return void 0===t&&(t=!0),this.input&&this.input.hasOwnProperty("draggable")?this.input.draggable=t:t&&(this.setInteractive(),this.scene.input.setDraggable(this),this.on("drag",J,this)),this}},K=i(259);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t,e,i){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=Phaser.Utils.Objects.GetValue,rt=function(t){function e(t,i,n,r,o,s){var a,h,u,l,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof i&&(h=i,u=n,i=0,n=0),l=this,(a=!(c=et(e).call(this,t,i,n,2,2))||"object"!==Q(c)&&"function"!=typeof c?$(l):c).isRexSizer=!0,a.setMinSize(r,o),a.setName(nt(s,"name","")),a.rexSizer={},a.backgroundChildren=void 0,void 0!==h&&(a._anchor=new K.a($(a),{x:h,y:u})),a.setDraggable(nt(s,"draggable",!1)),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,u),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),tt(et(e.prototype),"destroy",this).call(this,t))}},{key:"setMinSize",value:function(t,e){return this.setMinWidth(t).setMinHeight(e),this}},{key:"setMinWidth",value:function(t){return null==t&&(t=0),this.minWidth=t,this}},{key:"setMinHeight",value:function(t){return null==t&&(t=0),this.minHeight=t,this}},{key:"alignLeft",value:function(t){return this.left=t,this}},{key:"alignRight",value:function(t){return this.right=t,this}},{key:"alignCenterX",value:function(t){return this.centerX=t,this}},{key:"alignTop",value:function(t){return this.top=t,this}},{key:"alignBottom",value:function(t){return this.bottom=t,this}},{key:"alignCenterY",value:function(t){return this.centerY=t,this}},{key:"pin",value:function(t){return tt(et(e.prototype),"add",this).call(this,t),this}},{key:"addBackground",value:function(t){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),tt(et(e.prototype),"add",this).call(this,t),this.getSizerConfig(t).parent=this,this.backgroundChildren.push(t),this}},{key:"childrenWidth",get:function(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}},{key:"childrenHeight",get:function(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}},{key:"left",get:function(){return this.x-this.displayWidth*this.originX},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x-this.displayWidth*this.originX+this.displayWidth},set:function(t){this.x+=t-this.right}},{key:"centerX",get:function(){return(this.left+this.right)/2},set:function(t){this.x+=t-this.centerX}},{key:"top",get:function(){return this.y-this.displayHeight*this.originY},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y-this.displayHeight*this.originY+this.displayHeight},set:function(t){this.y+=t-this.bottom}},{key:"centerY",get:function(){return(this.top+this.bottom)/2},set:function(t){this.y+=t-this.centerY}}])&&q(i.prototype,n),r&&q(i,r),e}();Object.assign(rt.prototype,Z);var ot=rt,st=function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width:0,r+=n+=(i=e.rexSizer.padding).left+i.right);else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,r=Math.max(n,r)));return r},at=function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,r=Math.max(n,r));else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height:0,r+=n+=(i=e.rexSizer.padding).top+i.bottom));return r},ht=function(){for(var t,e,i=0,n=this.sizerChildren,r=0,o=n.length;r<o;r++)(t=n[r]).rexSizer.hidden||(e=t.rexSizer.proportion)>0&&(i+=e);return i},ut=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,r=i.length;n<r;n++)(e=i[n]).isRexSizer&&t.push(e);return t},lt=function(t,e){var i,n=e.rexSizer,r=n.padding;return 0===t.orientation?n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength):n.expand&&(i=t.width-r.left-r.right),i},ct=function(t,e){var i,n=e.rexSizer,r=n.padding;return 0===t.orientation?n.expand&&(i=t.height-r.top-r.bottom):n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength),i},ft=Phaser.Display.Align.In.QuickSet,dt={getChildrenWidth:st,getChildrenHeight:at,getChildrenProportion:ht,getChildrenSizers:ut,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n;if(this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),this.childrenProportion>0){var r=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;n=r>0?(r=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else n=0;this.proportionLength=n;for(var o,s,a,h,u,l,c,f,d,p=this.sizerChildren,y=this.left,v=this.top,g=0,b=p.length;g<b;g++)(o=p[g]).rexSizer.hidden||(a=(s=o.rexSizer).padding,f=lt(this,o),d=ct(this,o),o.isRexSizer?o.layout(this,f,d):Object(F.a)(o,f,d),void 0===f&&(f=o.width),void 0===d&&(d=o.height),0===this.orientation?(h=y+a.left,l=0===s.proportion||0===n?f:s.proportion*n,u=v+a.top,c=this.height-a.top-a.bottom):(h=y+a.left,l=this.width-a.left-a.right,u=v+a.top,c=0===s.proportion||0===n?d:s.proportion*n),G.a.setPosition(h,u).setSize(l,c),ft(o,G.a,s.align),this.resetChildPositionState(o),0===this.orientation?y+=l+a.left+a.right:v+=c+a.top+a.bottom);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0}},pt=Phaser.Utils.Objects.GetValue,yt=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=pt(t,"left",0),e.right=pt(t,"right",0),e.top=pt(t,"top",0),e.bottom=pt(t,"bottom",0)),e},vt={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},gt=Phaser.Display.Align,bt={center:gt.CENTER,left:gt.LEFT_CENTER,right:gt.RIGHT_CENTER,top:gt.TOP_CENTER,bottom:gt.BOTTOM_CENTER,"left-top":gt.TOP_LEFT,"left-center":gt.LEFT_CENTER,"left-bottom":gt.LEFT_BOTTOM,"center-top":gt.TOP_CENTER,"center-center":gt.CENTER,"center-bottom":gt.BOTTOM_CENTER,"right-top":gt.TOP_RIGHT,"right-center":gt.RIGHT_CENTER,"right-bottom":gt.RIGHT_BOTTOM};function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ot(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t,e,i){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=Phaser.Utils.Objects.IsPlainObject,Ct=Phaser.Utils.Objects.GetValue,Tt=Phaser.Utils.Array.Remove,jt=Phaser.Display.Align.CENTER,_t=function(t){function e(t,i,n,r,o,s){var a,h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Pt(i)?(i=Ct(h=i,"x",0),n=Ct(h,"y",0),r=Ct(h,"width",void 0),o=Ct(h,"height",void 0)):Pt(r)?(r=Ct(h=r,"width",void 0),o=Ct(h,"height",void 0)):Pt(s)&&(h=s),void 0!==h&&(s=Ct(h,"orientation",0)),void 0===s&&(s=0),(a=Ot(this,kt(e).call(this,t,i,n,r,o,h))).type="rexSizer",a.sizerChildren=[],a.setOrientation(s),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,wt(kt(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=vt[t]),this.orientation=t,this}},{key:"add",value:function(t,i,n,r,o){wt(kt(e.prototype),"add",this).call(this,t);var s=mt(i);if(null===i)return this;if("number"===s);else if("string"===s)i=Et[i];else if(Pt(i)){var a;i=Ct(a=i,"proportion",0),n=Ct(a,"align",jt),r=Ct(a,"padding",0),o=Ct(a,"expand",!1)}return"string"==typeof n&&(n=bt[n]),void 0===i&&(i=0),void 0===n&&(n=jt),void 0===r&&(r=0),void 0===o&&(o=!1),(a=this.getSizerConfig(t)).parent=this,a.proportion=i,a.align=n,a.padding=yt(r),a.expand=o,this.sizerChildren.push(t),this}},{key:"insert",value:function(t,e,i,n,r,o){return this.add(e,i,n,r,o),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this?this:(i.parent=void 0,Tt(this.sizerChildren,t),wt(kt(e.prototype),"remove",this).call(this,t),this)}},{key:"childrenProportion",get:function(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}])&&xt(i.prototype,n),r&&xt(i,r),e}();Object.assign(_t.prototype,dt);var Et={min:0,full:-1},Mt=_t;r.register("sizer",function(t,e,i,n,r){var o=new Mt(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.Sizer",Mt);var Rt=function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,r,o=0,s=this.gridChildren,a=0;a<this.columnCount;a++){if(t=0,void 0===(r=this.columnProportions[a])||0===r){for(var h=0;h<this.rowCount;h++)(e=s[h*this.columnCount+a])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,t=Math.max(t,n)));o+=t}this.columnWidth[a]=t}return o},Dt=function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,r,o=0,s=this.gridChildren,a=0;a<this.rowCount;a++){if(t=0,void 0===(r=this.rowProportions[a])||0===r){for(var h=0;h<this.columnCount;h++)(e=s[a*this.columnCount+h])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,t=Math.max(t,n)));o+=t}this.rowHeight[a]=t}return o},It=function(t){void 0===t&&(t=[]);for(var e,i=this.gridChildren,n=0,r=i.length;n<r;n++)(e=i[n])&&e.isRexSizer&&t.push(e);return t},zt=function(t,e){var i,n=t.rexSizer;if(n.expand){var r=n.padding;i=e-r.left-r.right}return i},Yt=function(t,e){var i,n=t.rexSizer;if(n.expand){var r=n.padding;i=e-r.top-r.bottom}return i},Bt=Phaser.Display.Align.In.QuickSet,Lt={getChildrenWidth:Rt,getChildrenHeight:Dt,getChildrenSizers:It,layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t);var n,r,o,s,a=this.totalColumnProportions,h=this.totalRowProportions;if(void 0===e)if(t&&a>0){var u=this.rexSizer.padding;e=t.width-u.left-u.right}else e=Math.max(this.childrenWidth,this.minWidth);if(void 0===i)if(t&&h>0){var u=this.rexSizer.padding;i=t.height-u.top-u.bottom}else i=Math.max(this.childrenHeight,this.minHeight);this.resize(e,i),n=a>0?(this.width-this.childrenWidth)/a:0,r=h>0?(this.height-this.childrenHeight)/h:0;for(var l,c,f,d,p,y,v,g,b,m,x=this.left,O=x,w=this.top,k=0;k<this.rowCount;k++){m=0===(g=this.rowProportions[k]||0)?this.rowHeight[k]:g*r,O=x;for(var S=0;S<this.columnCount;S++)b=0===(v=this.columnProportions[S]||0)?this.columnWidth[S]:v*n,(o=this.gridChildren[k*this.columnCount+S])&&!o.rexSizer.hidden?(p=zt(o,b),y=Yt(o,m),o.isRexSizer?o.layout(this,p,y):Object(F.a)(o,p,y),l=O+(u=(s=o.rexSizer).padding).left,f=b-u.left-u.right,c=w+u.top,d=m-u.top-u.bottom,G.a.setPosition(l,c).setSize(f,d),Bt(o,G.a,s.align),this.resetChildPositionState(o),O+=b):O+=b;w+=m}return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vt(t,e){return!e||"object"!==At(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t,e,i){return(Ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt=Phaser.Utils.Objects.IsPlainObject,Nt=Phaser.Utils.Objects.GetValue,Ut=Phaser.Utils.Array.Remove,Jt=Phaser.Display.Align.CENTER,Zt=function(t){function e(t,i,n,r,o,s,a,h,u){var l,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Gt(i)?(i=Nt(c=i,"x",0),n=Nt(c,"y",0),r=Nt(c,"width",void 0),o=Nt(c,"height",void 0),s=Nt(c,"column",0),a=Nt(c,"row",0),h=Nt(c,"columnProportions",void 0),u=Nt(c,"rowProportions",void 0)):Gt(r)?(r=Nt(c=r,"width",void 0),o=Nt(c,"height",void 0),s=Nt(c,"column",0),a=Nt(c,"row",0),h=Nt(c,"columnProportions",void 0),u=Nt(c,"rowProportions",void 0)):Gt(s)?(s=Nt(c=s,"column",0),a=Nt(c,"row",0),h=Nt(c,"columnProportions",void 0),u=Nt(c,"rowProportions",void 0)):Gt(h)&&(h=Nt(c=h,"columnProportions",void 0),u=Nt(c,"rowProportions",void 0)),(l=Vt(this,Xt(e).call(this,t,i,n,r,o,c))).type="rexGridSizer",l.initialGrid(s,a,h,u),l}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.gridChildren.length=0,Ht(Xt(e.prototype),"destroy",this).call(this,t))}},{key:"setColumnProportion",value:function(t,e){return t>=this.columnProportions.length?this:(this.columnProportions[t]=e,this)}},{key:"setRowProportion",value:function(t,e){return t>=this.rowProportions.length?this:(this.rowProportions[t]=e,this)}},{key:"add",value:function(t,i,n,r,o,s){var a;(Ht(Xt(e.prototype),"add",this).call(this,t),Gt(i))&&(i=Nt(a=i,"column",0),n=Nt(a,"row",0),r=Nt(a,"align",Jt),o=Nt(a,"padding",0),s=Nt(a,"expand",!1));return"string"==typeof r&&(r=bt[r]),void 0===r&&(r=Jt),void 0===o&&(o=0),void 0===s&&(s=!0),(a=this.getSizerConfig(t)).parent=this,a.align=r,a.padding=yt(o),a.expand=s,this.gridChildren[n*this.columnCount+i]=t,this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this?this:(i.parent=void 0,Ut(this.gridChildren,t),void 0!==this.backgroundChildren&&Ut(this.backgroundChildren,t),Ht(Xt(e.prototype),"remove",this).call(this,t),this)}},{key:"initialGrid",value:function(t,e,i,n){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,i)for(var r="number"==typeof i,o=0;o<t;o++)if(r)this.setColumnProportion(o,i);else{var s=i[o];s>0&&this.setColumnProportion(o,s)}if(n){var a="number"==typeof n;for(o=0;o<e;o++)if(a)this.setRowProportion(o,n);else{var h=n[o];h>0&&this.setRowProportion(o,h)}}return this}},{key:"totalColumnProportions",get:function(){for(var t,e=0,i=0;i<this.columnCount;i++)(t=this.columnProportions[i])>0&&(e+=t);return e}},{key:"totalRowProportions",get:function(){for(var t,e=0,i=0;i<this.rowCount;i++)(t=this.rowProportions[i])>0&&(e+=t);return e}}])&&Wt(i.prototype,n),r&&Wt(i,r),e}();Object.assign(Zt.prototype,Lt);var Kt=Zt;r.register("gridSizer",function(t,e,i,n,r,o,s,a){var h=new Kt(this.scene,t,e,i,n,r,o,s,a);return this.scene.add.existing(h),h}),Object(s.a)(window,"RexPlugins.UI.GridSizer",Kt);var Qt=function(){return this.rexSizer.hidden?0:(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth));var t},qt=function(){return this.rexSizer.hidden?0:(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight));var t},$t=function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,r=i.length;n<r;n++)(e=i[n]).isRexSizer&&t.push(e);return t},te=function(t){var e=t.rexSizer.padding;return t.width+e.left+e.right},ee=function(t){var e=t.rexSizer.padding;return t.height+e.top+e.bottom},ie=function(t,e){return 0===e?te(t):ee(t)},ne=function(t,e){return 0===e?ee(t):te(t)},re=function(t){for(var e,i,n,r={lines:[],width:0,height:0},o=this.sizerChildren,s=0,a=r.lines,h=0,u=o.length;h<u;h++)if(!(e=o[h]).rexSizer.hidden){if(e.isRexSizer&&e.layout(),s<(i=ie(e,this.orientation))){if(n){var l=t-(s+this.itemSpacing);r.width=Math.max(r.width,l),r.height+=n.height+this.lineSpacing}n={children:[],remainder:0,height:0},a.push(n),s=t}s-=i+this.itemSpacing,n.children.push(e),n.remainder=s,n.height=Math.max(n.height,ne(e,this.orientation))}return n&&(r.height+=n.height),r},oe=Phaser.Display.Align.In.QuickSet,se={getChildrenWidth:Qt,getChildrenHeight:qt,getChildrenSizers:$t,layout:function(t,e,i){if(this.rexSizer.hidden)return this;if(this.layoutInit(t),void 0===e){var n=this.padding;e=Math.max(this.maxChildWidth+n.left+n.right,this.minWidth)}void 0===i&&(n=this.padding,i=Math.max(this.maxChildHeight+n.top+n.bottom,this.minHeight));var r;n=this.padding;r=0===this.orientation?e-n.left-n.right:i-n.top-n.bottom;var o,s,a=re.call(this,r);0===this.orientation?i=Math.max(i,a.height+n.top+n.bottom):e=Math.max(e,a.height+left+n.right),this.resize(e,i);var h,u,l,c,f,d,p,y,v=this.left,g=this.top,b=a.lines;0===this.orientation?(h=v,u=g+this.padding.top):(h=v+this.padding.left,u=g);for(var m=0,x=b.length;m<x;m++){for(var O=0,w=(y=(p=b[m]).children).length;O<w;O++)n=(s=(o=y[O]).rexSizer).padding,0===this.orientation?(l=h+n.left,l+=0===O?this.padding.left:this.itemSpacing,c=u+n.top,f=o.width,d=o.height,h=l+o.width+n.right):(l=h+n.left,c=u+n.top,c+=0===O?this.padding.top:this.itemSpacing,f=o.width,d=o.height,u=c+o.height+n.bottom),G.a.setPosition(l,c).setSize(f,d),oe(o,G.a,s.align),this.resetChildPositionState(o);0===this.orientation?(h=v,u+=p.height+this.lineSpacing):(h+=p.height+this.lineSpacing,u=g)}return this.layoutBackgrounds(),this}},ae=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,n=t.length;i<n;i++)e=Math.max(e,te(t[i]));return e},he=function(t){void 0===t&&(t=this.sizerChildren);for(var e=0,i=0,n=t.length;i<n;i++)e=Math.max(e,ee(t[i]));return e};function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ce(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fe(t,e,i){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=de(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ye=Phaser.Utils.Objects.IsPlainObject,ve=Phaser.Utils.Objects.GetValue,ge=Phaser.Utils.Array.Remove,be=Phaser.Display.Align.CENTER,me=function(t){function e(t,i,n,r,o,s,a){var h,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ye(i)?(i=ve(u=i,"x",0),n=ve(u,"y",0),r=ve(u,"width",void 0),o=ve(u,"height",void 0)):ye(r)?(r=ve(u=r,"width",void 0),o=ve(u,"height",void 0)):ye(s)?u=s:ye(a)&&(u=a),void 0!==u&&(s=ve(u,"orientation",0),a=ve(u,"space",u)),void 0===s&&(s=0),void 0===a&&(a=0),(h=ce(this,de(e).call(this,t,i,n,r,o,u))).type="rexFixWidthSizer",h.sizerChildren=[],h.setOrientation(s),h.setPadding(a),h.setItemSpacing(ve(a,"item",0)),h.setLineSpacing(ve(a,"line",0)),h}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pe(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,fe(de(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=vt[t]),this.orientation=t,this}},{key:"setPadding",value:function(t){return this.padding=yt(t,this.padding),this}},{key:"setItemSpacing",value:function(t){return this.itemSpacing=t,this}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this}},{key:"add",value:function(t,i){fe(de(e.prototype),"add",this).call(this,t),void 0===i&&(i=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=be,n.padding=yt(i),this.sizerChildren.push(t),this}},{key:"insert",value:function(t,e,i,n){return this.add(e,i,n),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this?this:(i.parent=void 0,ge(this.sizerChildren,t),fe(de(e.prototype),"remove",this).call(this,t),this)}},{key:"maxChildWidth",get:function(){return void 0===this._maxChildWidth&&(this._maxChildWidth=ae.call(this)),this._maxChildWidth}},{key:"maxChildHeight",get:function(){return void 0===this._maxChildHeight&&(this._maxChildHeight=he.call(this)),this._maxChildHeight}}])&&le(i.prototype,n),r&&le(i,r),e}();Object.assign(me.prototype,se);var xe=me;r.register("fixWidthSizer",function(t,e,i,n,r,o){var s=new xe(this.scene,t,e,i,n,r,o);return this.scene.add.existing(s),s}),Object(s.a)(window,"RexPlugins.UI.FixWidthSizer",xe);var Oe=i(61);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Se(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t,e,i){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var je=Phaser.Utils.Objects.GetValue,_e=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Se(this,Ce(e).call(this,t,i))).type="rexLabel";var r=je(i,"background",void 0),o=je(i,"icon",void 0),s=je(i,"iconMask",void 0),a=je(i,"text",void 0),h=je(i,"action",void 0),u=je(i,"actionMask",void 0),l=je(i,"space.left",0),c=je(i,"space.right",0),f=je(i,"space.top",0),d=je(i,"space.bottom",0),p=je(i,"space.icon",0),y=je(i,"space.text",0);(r&&n.addBackground(r),o)&&(g=0===n.orientation?{left:l,right:a||h?p:c,top:f,bottom:d}:{left:l,right:c,top:f,bottom:a||h?p:d},n.add(o,0,"center",g),s&&(s=new Oe.a(o,1),o.setMask(s.createGeometryMask()),n.add(s,null)));if(a){var v,g,b,m=je(i,"expandTextWidth",!1),x=je(i,"expandTextHeight",!1);0===n.orientation?(v=m?1:0,g={left:o?0:l,right:h?y:c,top:f,bottom:d},b=x):(v=x?1:0,g={left:l,right:c,top:o?0:f,bottom:h?y:d},b=m),n.add(a,v,"center",g,b)}h&&(g=0===n.orientation?{left:o||a?0:l,right:c,top:f,bottom:d}:{left:l,right:c,top:o||a?0:f,bottom:d},n.add(h,0,"center",g),u&&(u=new Oe.a(h,1),o.setMask(u.createGeometryMask()),n.add(u,null)));return n.addChildrenMap("background",r),n.addChildrenMap("icon",o),n.addChildrenMap("iconMask",s),n.addChildrenMap("text",a),n.addChildrenMap("action",h),n.addChildrenMap("actionMask",u),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(e,Mt),i=e,(n=[{key:"setText",value:function(t){return this.text=t,this}},{key:"appendText",value:function(t){this.text+=t}},{key:"layout",value:function(t,i,n){Pe(Ce(e.prototype),"layout",this).call(this,t,i,n);var r=this.childrenMap.iconMask;r&&(r.setPosition(),this.resetChildPositionState(r));var o=this.childrenMap.actionMask;return o&&(o.setPosition(),this.resetChildPositionState(o)),this}},{key:"resize",value:function(t,i){Pe(Ce(e.prototype),"resize",this).call(this,t,i);var n=this.childrenMap.iconMask;n&&n.resize();var r=this.childrenMap.actionMask;return r&&r.resize(),this}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&ke(i.prototype,n),r&&ke(i,r),e}();r.register("label",function(t){var e=new _e(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Label",_e);var Ee=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.add.zone(0,0,e,i)},Me=i(144),Re=function(t,e){t._buttonBehavior=new Me.a(t,e),t._buttonBehavior.on("click",function(e,i,n){De.call(this,"button.click",t,n)},this),t.on("pointerover",function(e){De.call(this,"button.over",t,e)},this).on("pointerout",function(e){De.call(this,"button.out",t,e)},this)},De=function(t,e,i){var n;if("number"==typeof e){if(n=e,!(e=this.childrenMap.buttons[n]))return}else if(-1===(n=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,n,i):this.eventEmitter.emit(t,e,n,i)},Ie=function(t){Be(t,!1)},ze=function(t){Be(t,!0)},Ye=function(t){return!!t&&!l(t).hidden},Be=function(t,e){t&&(l(t).hidden=e,t.setVisible(!e))},Le={getButton:function(t){var e;return"number"==typeof t?e=this.childrenMap.buttons[t]:(e=t,-1===this.childrenMap.buttons.indexOf(e)&&(e=void 0)),e},emitButtonClick:function(t){return De.call(this,"button.click",t),this},showButton:function(t){return Ie(this.getButton(t)),this},hideButton:function(t){return ze(this.getButton(t)),this},isButtonShown:function(t){return Ye(this.getButton(t)),this},forEachButtton:function(t,e){for(var i=this.childrenMap.buttons,n=0,r=i.length;n<r;n++)e?t.call(e,i[n],n,i):t(i[n],n,i);return this}};function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xe=Phaser.Utils.Objects.GetValue,Fe=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),r=this,(n=!(o=We(e).call(this,t,i))||"object"!==Ae(o)&&"function"!=typeof o?Ve(r):o).type="rexButtons",n.eventEmitter=Xe(i,"eventEmitter",Ve(n)),n.groupName=Xe(i,"groupName",void 0);var s=Xe(i,"background",void 0),a=Xe(i,"buttons",void 0);a&&0===a.length&&(a=void 0);var h=Xe(i,"space",0);if(s&&n.addBackground(s),a){var u,l,c=Xe(i,"align",void 0),f=Xe(i,"click",void 0);"right"!==c&&"bottom"!==c&&"center"!==c||n.add(Ee(t),1,"center",0,!1);for(var d=0,p=a.length;d<p;d++)u=a[d],l=0===n.orientation?{left:d>=1?h:0,right:0,top:0,bottom:0}:{left:0,right:0,top:d>=1?h:0,bottom:0},n.add(u,0,"center",l,!0),Re.call(Ve(n),u,f);"center"===c&&n.add(Ee(t),1,"center",0,!1)}return n.addChildrenMap("background",s),n.addChildrenMap("buttons",a||[]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(e,Mt),e}();Object.assign(Fe.prototype,Le);var Ge=Fe;r.register("buttons",function(t){var e=new Ge(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Buttons",Ge);var Ne;function Ue(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Je=(Ue(Ne={getChoice:function(t){return this.childrenMap.choicesSizer.getButton(t)},getAction:function(t){return this.childrenMap.actionsSizer.getButton(t)},emitChoiceClick:function(t){return this.childrenMap.choicesSizer.emitButtonClick(t),this},emitActionClick:function(t){return this.childrenMap.actionsSizer.emitButtonClick(t),this},showChoice:function(t){return this.childrenMap.choicesSizer.showButton(t),this},showAction:function(t){return this.childrenMap.actionsSizer.showButton(t),this},hideChoice:function(t){return this.childrenMap.choicesSizer.hideButton(t),this},hideAction:function(t){return this.childrenMap.actionsSizer.hideButton(t),this},forEachChoice:function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}},"forEachChoice",function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}),Ue(Ne,"forEachAction",function(t,e){return this.childrenMap.actionsSizer.forEachButtton(t,e),this}),Ne);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(t,e){return(qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $e=Phaser.Utils.Objects.GetValue,ti=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.orientation=1,r=this,(n=!(o=Ke(e).call(this,t,i))||"object"!==Ze(o)&&"function"!=typeof o?Qe(r):o).type="rexDialog",n.eventEmitter=$e(i,"eventEmitter",Qe(n));var s=$e(i,"background",void 0),a=$e(i,"title",void 0),h=$e(i,"toolbar",void 0);h&&0===h.length&&(h=void 0);var u,l,c=$e(i,"content",void 0),f=$e(i,"description",void 0),d=$e(i,"choices",void 0);d&&0===d.length&&(d=void 0);var p=$e(i,"actions",void 0);p&&0===p.length&&(p=void 0);var y,v=$e(i,"click",void 0),g=$e(i,"space.left",0),b=$e(i,"space.right",0),m=$e(i,"space.top",0),x=$e(i,"space.bottom",0);if(s&&n.addBackground(s),a&&!h){var O=$e(i,"align.title","center"),w=$e(i,"space.title",0),k={left:g,right:b,top:m,bottom:c||f||d||p?w:x},S=$e(i,"expand.title",!0);n.add(a,0,O,k,S)}if(h&&(y=new Ge(t,{groupName:"toolbar",buttons:h,orientation:0,space:$e(i,"space.toolbarItem",0),click:v,eventEmitter:n.eventEmitter})),h&&!a){w=$e(i,"space.title",0),k={left:g,right:b,top:m,bottom:c||f||d||p?w:x},S=$e(i,"expand.toolbar",!0);n.add(y,0,"center",k,S)}if(a&&h){var P=new Mt(t,{orientation:0});O=$e(i,"align.title","left");(S=$e(i,"expand.title",!0))||"right"!==O&&"center"!==O||P.add(Ee(t),1,"center",0,!1);k={left:$e(i,"space.titleLeft",0),right:$e(i,"space.titleRight",0),top:0,bottom:0};P.add(a,S?1:0,"center",k,S),S||"left"!==O&&"center"!==O||P.add(Ee(t),1,"center",0,!1),P.add(y,0,"right",0,!1);w=$e(i,"space.title",0),k={left:g,right:b,top:m,bottom:c||f||d||p?w:x};n.add(P,0,"center",k,!0)}if(c){O=$e(i,"align.content","center");var C=$e(i,"space.content",0);k={left:g+$e(i,"space.contentLeft",0),right:b+$e(i,"space.contentRight",0),top:a||h?0:m,bottom:f||d||p?C:x},S=$e(i,"expand.content",!0);n.add(c,0,O,k,S)}if(f){O=$e(i,"align.description","center");var T=$e(i,"space.description",0);k={left:g+$e(i,"space.descriptionLeft",0),right:b+$e(i,"space.descriptionRight",0),top:a||h||c?0:m,bottom:d||p?T:x},S=$e(i,"expand.description",!0);n.add(f,0,O,k,S)}if(d){O=$e(i,"align.choices","center");u=new Ge(t,{groupName:"choices",buttons:d,orientation:1,space:$e(i,"space.choice",0),click:v,eventEmitter:n.eventEmitter});var j=$e(i,"space.choices",0);k={left:g+$e(i,"space.choicesLeft",0),right:b+$e(i,"space.choicesRight",0),top:a||h||c||f?0:m,bottom:p?j:x},S=$e(i,"expand.choices",!0);n.add(u,0,O,k,S)}if(p){l=new Ge(t,{groupName:"actions",buttons:p,orientation:0,space:$e(i,"space.action",0),align:$e(i,"align.actions","center"),click:v,eventEmitter:n.eventEmitter});k={left:g+$e(i,"space.actionsLeft",0),right:b+$e(i,"space.actionsRight",0),top:a||h||c||f||d?0:m,bottom:x},S=$e(i,"expand.actions",!0);n.add(l,0,"center",k,S)}return n.addChildrenMap("background",s),n.addChildrenMap("title",a),n.addChildrenMap("toolbar",h),n.addChildrenMap("content",c),n.addChildrenMap("choices",d),n.addChildrenMap("actions",p),n.addChildrenMap("choicesSizer",u),n.addChildrenMap("actionsSizer",l),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}(e,Mt),e}();Object.assign(ti.prototype,Je);var ei=ti;r.register("dialog",function(t){var e=new ei(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Dialog",ei);var ii={getButtonsSizer:function(t){return this.childrenMap[t+"ButtonsSizer"]},getButton:function(t,e){var i=this.getButtonsSizer(t);return i?i.getButton(e):void 0},emitButtonClick:function(t,e){var i=this.getButtonsSizer(t);return i?(i.emitButtonClick(e),this):this},emitLeftButtonClick:function(t){return this.childrenMap.leftButtonsSizer.emitButtonClick(t),this},emitRightButtonClick:function(t){return this.childrenMap.rightButtonsSizer.emitButtonClick(t),this},emitTopButtonClick:function(t){return this.childrenMap.topButtonsSizer.emitButtonClick(t),this},emitBottomButtonClick:function(t){return this.childrenMap.bottomButtonsSizer.emitButtonClick(t),this},getLeftButton:function(t){return this.childrenMap.leftButtonsSizer.getButton(t)},getRightButton:function(t){return this.childrenMap.rightButtonsSizer.getButton(t)},getTopButton:function(t){return this.childrenMap.topButtonsSizer.getButton(t)},getBottomButton:function(t){return this.childrenMap.bottomButtonsSizer.getButton(t)},showButton:function(t,e){return Ie(this.getButton(t,e)),this},showLeftButton:function(t){return Ie(this.getLeftButton(t)),this},showRightButton:function(t){return Ie(this.getRightButton(t)),this},showTopButton:function(t){return Ie(this.getTopButton(t)),this},showBottomButton:function(t){return Ie(this.getBottomButton(t)),this},hideButton:function(t,e){return ze(this.getButton(t,e)),this},hideLeftButton:function(t){return ze(this.getLeftButton(t)),this},hideRightButton:function(t){return ze(this.getRightButton(t)),this},hideTopButton:function(t){return ze(this.getTopButton(t)),this},hideBottomButton:function(t){return ze(this.getBottomButton(t)),this},forEachLeftButton:function(t,e){return this.childrenMap.leftButtonsSizer.forEachButtton(t,e),this},forEachRightButton:function(t,e){return this.childrenMap.rightButtonsSizer.forEachButtton(t,e),this},forEachTopButton:function(t,e){return this.childrenMap.topButtonsSizer.forEachButtton(t,e),this},forEachBottomButton:function(t,e){return this.childrenMap.bottomButtonsSizer.forEachButtton(t,e),this}};function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function si(t,e){return(si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ai=Phaser.Utils.Objects.GetValue,hi=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.column=3,i.row=3,r=this,(n=!(o=ri(e).call(this,t,i))||"object"!==ni(o)&&"function"!=typeof o?oi(r):o).type="rexTabs",n.eventEmitter=ai(i,"eventEmitter",oi(n));var s,a=ai(i,"background",void 0),h=ai(i,"panel",void 0),u=ai(i,"leftButtons",void 0);u&&0===u.length&&(u=void 0);var l,c=ai(i,"rightButtons",void 0);c&&0===c.length&&(c=void 0);var f,d=ai(i,"topButtons",void 0);d&&0===d.length&&(d=void 0);var p,y=ai(i,"bottomButtons",void 0);y&&0===y.length&&(y=void 0);var v=ai(i,"click",void 0),g=ai(i,"space.left",0),b=ai(i,"space.right",0),m=ai(i,"space.top",0),x=ai(i,"space.bottom",0),O=ai(i,"space.leftButtonsOffset",0),w=ai(i,"space.rightButtonsOffset",0),k=ai(i,"space.topButtonsOffset",0),S=ai(i,"space.bottomButtonsOffset",0),P=ai(i,"space.leftButton",0),C=ai(i,"space.rightButton",0),T=ai(i,"space.topButton",0),j=ai(i,"space.bottomButton",0);if(a&&n.addBackground(a),h){var _={left:u?0:g,right:c?0:b,top:d?0:m,bottom:y?0:x};n.add(h,1,1,"center",_,!0)}if(u){s=new Ge(t,{groupName:"left",buttons:u,orientation:1,space:P,align:ai(i,"align.leftButtons",void 0),click:v,eventEmitter:n.eventEmitter});_={left:g,top:O};n.add(s,0,1,"top",_,!1)}if(c){l=new Ge(t,{groupName:"right",buttons:c,orientation:1,space:C,align:ai(i,"align.rightButtons",void 0),click:v,eventEmitter:n.eventEmitter});_={right:b,top:w};n.add(l,2,1,"top",_,!1)}if(d){f=new Ge(t,{groupName:"top",buttons:d,orientation:0,space:T,align:ai(i,"align.topButtons",void 0),click:v,eventEmitter:n.eventEmitter});_={top:m,left:k};n.add(f,1,0,"left",_,!1)}if(y){p=new Ge(t,{groupName:"bottom",buttons:y,orientation:0,space:j,align:ai(i,"align.bottomButtons",void 0),click:v,eventEmitter:n.eventEmitter});_={bottom:x,left:S};n.add(p,1,2,"left",_,!1)}return n.addChildrenMap("background",a),n.addChildrenMap("panel",h),n.addChildrenMap("leftButtons",u),n.addChildrenMap("rightButtons",c),n.addChildrenMap("topButtons",d),n.addChildrenMap("bottomButtons",y),n.addChildrenMap("leftButtonsSizer",s),n.addChildrenMap("rightButtonsSizer",l),n.addChildrenMap("topButtonsSizer",f),n.addChildrenMap("bottomButtonsSizer",p),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(e,Kt),e}();Object.assign(hi.prototype,ii);var ui=hi;r.register("tabs",function(t){var e=new ui(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Tabs",ui);var li=Phaser.Math.Percent,ci=function(t,e,i){var n,r,o;return t.y===e.y?(n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=li(i.x,n,r)):t.x===e.x&&(n=Math.min(t.y,e.y),r=Math.max(t.y,e.y),o=li(i.y,n,r)),o},fi={},di=function(t,e,i){this.enable&&(fi.x=e,fi.y=i,this.value=ci(this.getStartPoint(),this.getEndPoint(),fi))},pi={},yi=function(t,e,i){this.enable&&t.isDown&&(pi.x=t.worldX,pi.y=t.worldY,this.value=ci(this.getStartPoint(),this.getEndPoint(),pi))},vi=Phaser.Display.Align.In.QuickSet,gi={},bi=function(t,e){void 0===e&&(e=gi);var i=this.childrenMap.thumb,n=i.x,r=i.y;return vi(i,this,t),e.x=i.x,e.y=i.y,i.x=n,i.y=r,e},mi=Phaser.Display.Align.LEFT_CENTER,xi=Phaser.Display.Align.TOP_CENTER,Oi={},wi=function(t){if(void 0===t&&(t=Oi),this.childrenMap.thumb){var e=0===this.orientation?xi:mi;bi.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t},ki=Phaser.Display.Align.RIGHT_CENTER,Si=Phaser.Display.Align.BOTTOM_CENTER,Pi={},Ci=function(t){if(void 0===t&&(t=Pi),this.childrenMap.thumb){var e=1===this.orientation?ki:Si;bi.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t},Ti=Phaser.Math.Linear,ji={},_i=function(t,e,i,n){return void 0===n&&(n=ji),n.x=Ti(e.x,i.x,t),n.y=Ti(e.y,i.y,t),n},Ei=function(t){var e=this.childrenMap.thumb;return void 0===e?this:(void 0===t&&(t=this.value),_i(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildPositionState(e),this)},Mi=Phaser.Display.Align.In.QuickSet,Ri=Phaser.Display.Align.LEFT_CENTER,Di=Phaser.Display.Align.TOP_CENTER,Ii=function(t){var e,i,n=this.childrenMap.indicator;if(void 0===n)return this;void 0===t&&(t=this.value);var r=this.childrenMap.thumb;r?0===this.orientation?i=r.y-r.displayHeight*r.originY+r.displayHeight-this.top:e=r.x-r.displayWidth*r.originX+r.displayWidth-this.left:0===this.orientation?i=this.height*t:e=this.width*t;Object(F.a)(n,e,i);var o=1===this.orientation?Ri:Di;Mi(n,this,o),this.resetChildPositionState(n)};function zi(t){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Li(t,e,i){return(Li="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ai(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Ai(t){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wi(t,e){return(Wi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vi=Phaser.Utils.Objects.GetValue,Hi=Phaser.Math.Clamp,Xi=Phaser.Math.Linear,Fi=Phaser.Math.Percent,Gi=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Ai(e).call(this,t,i))||"object"!==zi(o)&&"function"!=typeof o?Bi(r):o).type="rexSlider",n.eventEmitter=Vi(i,"eventEmitter",Bi(n));var s=Vi(i,"background",void 0),a=Vi(i,"track",void 0),h=Vi(i,"indicator",void 0),u=Vi(i,"thumb",void 0),l=Vi(i,"space.left",0),c=Vi(i,"space.right",0),f=Vi(i,"space.top",0),d=Vi(i,"space.bottom",0);if(s&&n.addBackground(s),a){var p={left:l,right:c,top:f,bottom:d};n.add(a,0,void 0,p,!0)}h&&n.add(h,null),u&&n.add(u,null);var y=Vi(i,"input",0);switch("string"==typeof y&&(y=Ni[y]),y){case 0:u&&(u.setInteractive(),n.scene.input.setDraggable(u),u.on("drag",di,Bi(n)));break;case 1:n.setInteractive().on("pointerdown",yi,Bi(n)).on("pointermove",yi,Bi(n))}n.addChildrenMap("background",s),n.addChildrenMap("track",a),n.addChildrenMap("indicator",h),n.addChildrenMap("thumb",u);var v=Vi(i,"valuechangeCallback",null);if(null!==v){var g=Vi(i,"valuechangeCallbackScope",void 0);n.eventEmitter.on("valuechange",v,g)}return n.setEnable(Vi(i,"enable",void 0)),n.setValue(Vi(i,"value",0)),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wi(t,e)}(e,Mt),i=e,(n=[{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"setValue",value:function(t,e,i){return void 0===t||null===t?this:(void 0!==e&&(t=Fi(t,e,i)),this.value=t,this)}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=Fi(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=Xi(t,e,i)),i}},{key:"layout",value:function(t,i,n){return Li(Ai(e.prototype),"layout",this).call(this,t,i,n),this.updateThumb(),this.updateIndicator(),this}},{key:"value",get:function(){return this._value},set:function(t){var e=this._value;this._value=Hi(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}}])&&Yi(i.prototype,n),r&&Yi(i,r),e}(),Ni={drag:0,click:1,none:-1},Ui={getStartPoint:wi,getEndPoint:Ci,updateThumb:Ei,updateIndicator:Ii};Object.assign(Gi.prototype,Ui);var Ji=Gi;r.register("slider",function(t){var e=new Ji(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Slider",Ji);var Zi={v:0,vertical:0,h:1,horizontal:1},Ki=Phaser.Utils.Objects.GetValue,Qi=function(t,e){void 0===e&&(e="scrollMode");var i=Ki(t,"scrollMode",0);return"string"==typeof i&&(i=Zi[i]),i},qi=i(156),$i=Phaser.Utils.Objects.GetValue,tn=function(t){var e,i,n=this.scene,r=Qi(t),o=new Mt(n,{orientation:r}),s=$i(t,"child.gameObject",void 0),a=$i(t,"slider",void 0),h=$i(t,"scroller",!0);if(s){var u=$i(t,"space.child",0);if(this.childPadding={},"number"!=typeof u){var l=u;0===r?(u=$i(l,"right",0),this.childPadding.top=$i(l,"top",0),this.childPadding.bottom=$i(l,"bottom",0)):(u=$i(l,"bottom",0),this.childPadding.top=$i(l,"left",0),this.childPadding.bottom=$i(l,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;var c,f=$i(t,"child.proportion",1),d=$i(t,"child.expand",!0);c=0===r?{right:a?u:0}:{bottom:a?u:0},o.add(s,f,"center",c,d),a&&(!0===a&&(a={}),a.orientation=o.orientation,e=new Ji(n,a),o.add(e,0,"center",0,!0)),h&&(!0===h&&(h={}),h.orientation=r,i=new qi.a(s,h))}return e&&e.on("valuechange",function(t){this.t=t},this),i&&i.on("valuechange",function(t){this.childOY=t},this),this.addChildrenMap("child",s),this.addChildrenMap("slider",e),this.addChildrenMap("scroller",i),o};function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t,e,i){return(on="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sn(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function sn(t){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hn=Phaser.Utils.Objects.GetValue,un=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r,o,s=Qi(i);i.orientation=0===s?1:0,r=this,(n=!(o=sn(e).call(this,t,i))||"object"!==en(o)&&"function"!=typeof o?rn(r):o).type=hn(i,"type","rexScrollable");var a=hn(i,"background",void 0),h=tn.call(rn(n),i),u=hn(i,"header",void 0),l=hn(i,"footer",void 0),c=hn(i,"space.left",0),f=hn(i,"space.right",0),d=hn(i,"space.top",0),p=hn(i,"space.bottom",0);if(a&&n.addBackground(a),u){var y=hn(i,"align.header","center"),v=hn(i,"space.header",0);b=0===s?{left:c,right:f,top:d,bottom:v}:{left:c,right:v,top:d,bottom:p};var g=hn(i,"expand.header",!0);n.add(u,0,y,b,g)}h&&(b=0===s?{left:c,right:f,top:u?0:d,bottom:l?0:p}:{left:u?0:c,right:l?0:f,top:d,bottom:p},n.add(h,1,"center",b,!0));if(l){y=hn(i,"align.footer","center");var b,m=hn(i,"space.footer",0);b=0===s?{left:c,right:f,top:m,bottom:p}:{left:m,right:f,top:d,bottom:p};g=hn(i,"expand.footer",!0);n.add(l,0,y,b,g)}return n.addChildrenMap("background",a),n.addChildrenMap("header",u),n.addChildrenMap("footer",l),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(e,Mt),i=e,(n=[{key:"layout",value:function(t,i,n){return on(sn(e.prototype),"layout",this).call(this,t,i,n),this.resizeController(),this}},{key:"resizeController",value:function(){var t=this.topChildOY,e=this.bottomChildOY,i=this.childrenMap.scroller,n=this.childrenMap.slider;return i&&i.setBounds(e,t),n&&n.setEnable(e!==t),this.updateController(),this}},{key:"updateController",value:function(){var t=this.childrenMap.scroller,e=this.childrenMap.slider;t&&t.setValue(this.childOY),e&&e.setValue(this.t)}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"scrollToTop",value:function(){return this.t=0,this}},{key:"scrollToBottom",value:function(){return this.t=1,this}},{key:"setSliderEnable",value:function(t){return void 0===t&&(t=!0),this.sliderEnable=t,this}},{key:"setScrollerEnable",value:function(t){return void 0===t&&(t=!0),this.scrollerEnable=t,this}},{key:"t",set:function(t){var e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY;t=((n+e.top+e.bottom)*t-e.top)/n}this.childrenMap.child.t=t,this.updateController()},get:function(){var t=this.childrenMap.child.t,e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY,r=n+e.top+e.bottom;t=(n*t+e.top)/r}return t}},{key:"childOY",set:function(t){this.childrenMap.child.childOY=t,this.updateController()},get:function(){return this.childrenMap.child.childOY}},{key:"topChildOY",get:function(){return this.childrenMap.child.topChildOY+this.childPadding.top}},{key:"bottomChildOY",get:function(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}},{key:"sliderEnable",get:function(){var t=this.childrenMap.slider;if(t)return t.enable},set:function(t){var e=this.childrenMap.slider;e&&e.setEnable(t)}},{key:"scrollerEnable",get:function(){var t=this.childrenMap.scroller;if(t)return t.enable},set:function(t){var e=this.childrenMap.scroller;e&&e.setEnable(t)}}])&&nn(i.prototype,n),r&&nn(i,r),e}(),ln=i(53),cn=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.tableOY},set:function(e){t.tableOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTableOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTableOY}})},fn=function(t){t.on("cellvisible",function(t,e){var i,n=this.createCellContainerCallback,r=this.createCellContainerCallbackScope;t.item=this.items[t.index],(i=r?n.call(r,t,e):n(t,e)).setOrigin&&i.setOrigin(0),i.isRexSizer&&i.layout(),t.item=void 0,t.setContainer(i)},this)},dn=function(t,e,i,n,r){var o;if(null!==(o=void 0===r?n:i.pointerToCellIndex(n,r))&&void 0!==o){var s=i.getCellContainer(o);t.emit(e,s,o)}},pn=function(t){t._click=new Me.a(t,{threshold:10}),t._click.on("click",function(t,e,i){dn(this.eventEmitter,"cell.click",e,i.x,i.y)},this)},yn=function(t){if(!t.isDown){var e=this.childrenMap.child,i=e.pointerToCellIndex(t.x,t.y);if(i!==this._lastOverCellIndex){var n=this._lastOverCellIndex;this._lastOverCellIndex=i,dn(this.eventEmitter,"cell.out",e,n),dn(this.eventEmitter,"cell.over",e,i)}}},vn=function(){var t=this.childrenMap.child,e=this._lastOverCellIndex;this._lastOverCellIndex=void 0,dn(this.eventEmitter,"cell.out",t,e)},gn=function(t){t.on("pointermove",yn,this).on("pointerover",yn,this).on("pointerup",vn,this).on("pointerout",vn,this)},bn=i(84).a,mn=function(t){t._tap=new bn(t),t._tap.on("tap",function(t){var e="cell.".concat(t.tapsCount,"tap");dn(this.eventEmitter,e,t.gameObject,t.x,t.y)},this)},xn=i(85).a,On=function(t){t._press=new xn(t),t._press.on("pressstart",function(t){var e=t.gameObject,i=e.pointerToCellIndex(t.x,t.y);t._cellIndex=i,dn(this.eventEmitter,"cell.pressstart",e,i)},this).on("pressend",function(t){var e=t.gameObject,i=t._cellIndex;t._cellIndex=void 0,dn(this.eventEmitter,"cell.pressend",e,i)},this)},wn=function(t){t.setInteractive(),pn.call(this,t),gn.call(this,t),mn.call(this,t),On.call(this,t)},kn=i(12),Sn=function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.child;return e.setCellsCount(this.items.length),e.updateTable(!0),this.resizeController(),this};function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var En=Phaser.Utils.Objects.GetValue,Mn=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=Qi(i),o=En(i,"table",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplTableOXY=En(i,"clamplChildOY",!1);var s,a,h=En(o,"width",void 0),u=En(o,"height",void 0),l=new ln.a(t,0,0,h,u,o);0===r?(s=void 0===h?1:0,a=void 0===u):(s=void 0===u?1:0,a=void 0===h),cn(l),i.type="rexGridTable",i.child={gameObject:l,proportion:s,expand:a};var c,f,d=En(i,"space",void 0);d&&(d.child=d.table),c=this,(n=!(f=Tn(e).call(this,t,i))||"object"!==Pn(f)&&"function"!=typeof f?jn(c):f).addChildrenMap("table",l),n.eventEmitter=En(i,"eventEmitter",jn(n));var p=En(i,"createCellContainerCallback",kn.default),y=En(i,"createCellContainerCallbackScope",void 0);return n.setCreateCellContainerCallback(p,y),fn.call(jn(n),l),En(o,"interactive",!0)&&wn.call(jn(n),l),n.setItems(En(i,"items",[])),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(e,un),i=e,(n=[{key:"setCreateCellContainerCallback",value:function(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}},{key:"refresh",value:function(){return this.childrenMap.child.updateTable(!0),this}}])&&Cn(i.prototype,n),r&&Cn(i,r),e}(),Rn={setItems:Sn};Object.assign(Mn.prototype,Rn);var Dn=Mn;r.register("gridTable",function(t){var e=new Dn(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.GridTable",Dn);var In={expandSubMenu:function(t,e){this.collapseSubMenu();var i=new this.constructor(this.scene,{items:e,orientation:this.orientation,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,root:this.root,parent:t});return this.add(i,null),this.childrenMap.subMenu=i,this},collapse:function(){return this.root.easeOut?this.scaleDownDestroy(this.root.easeOut):this.destroy(),this.collapseSubMenu(),this},collapseSubMenu:function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapse(),this}},zn=function(t,e,i,n){var r,o,s=[];if(e&&i)for(var a=0,h=e.length;a<h;a++)(r=e[a]).scene=t,o=n?i.call(n,r,a):i(r,a),r.scene=void 0,s.push(o);return s},Yn=function(t){t.on(t.root.expandEventName,function(t,e){if(!this.isPassedEvent){var i=this.items[e].children;i&&this.expandSubMenu(t,i)}},t).on("button.click",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.click",t,e),this.root.isPassedEvent=!1)},t).on("button.over",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.over",t,e),this.root.isPassedEvent=!1)},t).on("button.out",function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.out",t,e),this.root.isPassedEvent=!1)},t)};function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ln(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function An(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wn(t,e,i){return(Wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vn(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t,e){return(Hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xn=Phaser.Utils.Objects.GetValue,Fn=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var r,o,s=Xn(i,"items",void 0),a=Xn(i,"createButtonCallback",void 0),h=Xn(i,"createButtonCallbackScope",void 0);if(i.buttons=zn(t,s,a,h),r=this,(n=!(o=Vn(e).call(this,t,i))||"object"!==Bn(o)&&"function"!=typeof o?An(r):o).type="rexMenu",n.items=s,n.root=Xn(i,"root",An(n)),n.root===An(n)){if(n.expandEventName=Xn(i,"expandEvent","button.click"),n.easeIn=Xn(i,"easeIn",void 0),n.easeOut=Xn(i,"easeOut",void 0),n.bounds=Xn(i,"bounds",void 0),n.expandOrientation=Xn(i,"expandOrientation",void 0),void 0===n.expandOrientation){var u=n.bounds;void 0===u&&(u=Object(c.a)(t)),0===n.orientation?n.expandOrientation=n.y<u.centerY?1:3:n.expandOrientation=n.x<u.centerX?0:2}n.createButtonCallback=a,n.createButtonCallbackScope=h,n.isPassedEvent=!1}n.setOrigin(0).layout();var l=Xn(i,"parent",void 0);if(l)switch(n.root.expandOrientation){case 0:n.alignTop(l.top).alignLeft(l.right);break;case 1:n.alignLeft(l.left).alignTop(l.bottom);break;case 2:n.alignTop(l.top).alignRight(l.left);break;case 3:n.alignLeft(l.left).alignBottom(l.top)}return n.pushIntoBounds(n.root.bounds),Yn(An(n)),n.root.easeIn&&n.popUp(n.root.easeIn),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hn(t,e)}(e,Ge),i=e,(n=[{key:"isInTouching",value:function(t){return!!Wn(Vn(e.prototype),"isInTouching",this).call(this,t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}])&&Ln(i.prototype,n),r&&Ln(i,r),e}();Object.assign(Fn.prototype,In);var Gn=Fn;r.register("menu",function(t){var e=new Gn(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Menu",Gn);var Nn=i(157),Un=i(158);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $n=Phaser.Utils.Objects.GetValue,tr=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:er(t)}),r=this,(n=!(o=Kn(e).call(this,t,i))||"object"!==Jn(o)&&"function"!=typeof o?Qn(r):o).type="rexTextBox";var s=n.childrenMap.text;return n.page=new Nn.a(s,$n(i,"page",void 0)),n.typing=new Un.a(s,$n(i,"type",void 0)),n.typing.on("complete",n.onPageEnd,Qn(n)).on("type",n.onType,Qn(n)),n.textWidth=s.width,n.textHeight=s.height,n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,_e),i=e,(n=[{key:"start",value:function(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}},{key:"typeNextPage",value:function(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}},{key:"pause",value:function(){return this.typing.pause(),this}},{key:"resume",value:function(){return this.typing.resume(),this}},{key:"stop",value:function(t){return this.typing.stop(t),this}},{key:"onType",value:function(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}},{key:"onPageEnd",value:function(){this.emit("pageend")}},{key:"isTyping",get:function(){return this.typing.isTyping}},{key:"isLastPage",get:function(){return this.page.isLastPage}},{key:"isFirstPage",get:function(){return this.page.isFirstPage}},{key:"pageCount",get:function(){return this.page.pageCount}},{key:"pageIndex",get:function(){return this.page.pageIndex}}])&&Zn(i.prototype,n),r&&Zn(i,r),e}(),er=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},ir=tr;r.register("textBox",function(t){var e=new ir(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.TextBox",ir);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(t,e){return(ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hr=Phaser.Utils.Objects.GetValue,ur=Phaser.Math.Percent,lr=Phaser.Math.Linear,cr=function(t){function e(t,i){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=or(e).call(this,t,i))||"object"!==nr(o)&&"function"!=typeof o?sr(r):o).type="rexNumberBar";var s,a=hr(i,"background",void 0),h=hr(i,"icon",void 0),u=hr(i,"iconMask",void 0),l=hr(i,"slider",void 0),c=hr(i,"text",void 0),f=hr(i,"space.left",0),d=hr(i,"space.right",0),p=hr(i,"space.top",0),y=hr(i,"space.bottom",0),v=hr(i,"space.icon",0),g=hr(i,"space.slider",0);(a&&n.addBackground(a),h)&&(b=0===n.orientation?{left:f,right:l||c?v:d,top:p,bottom:y}:{left:f,right:d,top:p,bottom:l||c?v:y},n.add(h,0,"center",b),u&&(u=new Oe.a(h,1),h.setMask(u.createGeometryMask()),n.add(u,null)));if(l){var b,m;if(l.orientation=0==n.orientation?1:0,l.eventEmitter=sr(n),l.value=null,l.hasOwnProperty("input")||(l.input=-1),s=new Ji(t,l),b=0===n.orientation?{left:h?0:f,right:c?g:d,top:p,bottom:y}:{left:f,right:d,top:h?0:p,bottom:c?g:y},0===n.orientation)m=void 0===hr(l,"width",void 0)?1:0;else m=void 0===hr(l,"height",void 0)?1:0;n.add(s,m,"center",b)}c&&(b=0===n.orientation?{left:h||l?0:f,right:d,top:p,bottom:y}:{left:f,right:d,top:h||l?0:p,bottom:y},n.add(c,0,"center",b));n.addChildrenMap("background",a),n.addChildrenMap("icon",h),n.addChildrenMap("slider",s),n.addChildrenMap("text",c);var x=hr(i,"valuechangeCallback",null);if(null!==x){var O=hr(i,"valuechangeCallbackScope",void 0);n.on("valuechange",x,O)}return n.setEnable(hr(i,"enable",void 0)),n.setValue(hr(i,"value",0)),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(e,Mt),i=e,(n=[{key:"setEnable",value:function(t){return this.childrenMap.slider?this:(void 0===t&&(t=!0),this.childrenMap.slider.enable=t,this)}},{key:"setValue",value:function(t,e,i){return void 0!==e&&(t=ur(t,e,i)),this.value=t,this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=ur(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=lr(t,e,i)),i}},{key:"setText",value:function(t){return this.text=t,this}},{key:"value",get:function(){return this.childrenMap.slider?this.childrenMap.slider.value:0},set:function(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&rr(i.prototype,n),r&&rr(i,r),e}();r.register("numberBar",function(t){var e=new cr(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.NumberBar",cr);var fr=Phaser.Utils.Objects.IsPlainObject,dr=Phaser.Display.Align.TOP_LEFT,pr=function(t,e,i,n,r){if(fr(e)){var o=e;e=GetValue(o,"key",0),i=GetValue(o,"align",dr),n=GetValue(o,"padding",0),r=GetValue(o,"expand",!1)}return"string"==typeof i&&(i=bt[i]),void 0===i&&(i=ALIGN_CENTER),void 0===n&&(n=0),void 0===r&&(r=!0),(o=this.getSizerConfig(t)).parent=this,o.align=i,o.padding=yt(n),o.expand=r,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this.add(t),this},yr=function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},vr=function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(0===this.swapMode?(e.setVisible(!1),this.resetChildVisibleState(e),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var i=this.currentPage;return i&&(i.setVisible(!0),this.resetChildVisibleState(i),this.emit("pagevisible",i,this._currentKey,this)),this},gr=function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,r=this.sizerChildren.entries;for(var o in r)i=(t=r[o]).isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width,i+=(e=t.rexSizer.padding).left+e.right,n=Math.max(i,n);return n},br=function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,r=this.sizerChildren.entries;for(var o in r)i=(t=r[o]).isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height,i+=(e=t.rexSizer.padding).top+e.bottom,n=Math.max(i,n);return n},mr=function(t){void 0===t&&(t=[]);var e,i=this.sizerChildren.entries;for(var n in i)(e=i[n]).isRexSizer&&t.push(e);return t},xr=function(t,e){var i,n=e.rexSizer,r=n.padding;return n.expand&&(i=t.width-r.left-r.right),i},Or=function(t,e){var i,n=e.rexSizer,r=n.padding;return n.expand&&(i=t.height-r.top-r.bottom),i},wr=Phaser.Display.Align.In.QuickSet,kr={addPage:pr,getPage:yr,swapPage:vr,getChildrenWidth:gr,getChildrenHeight:br,getChildrenSizers:mr,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,r,o;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var s,a,h,u,l,c,f=this.left,d=this.top,p=this.pages;for(var y in p)o=(r=(n=p[y]).rexSizer).padding,n.isRexSizer?n.layout(this,xr(this,n),Or(this,n)):(l=void 0,c=void 0,r.expand&&(c=this.height-o.top-o.bottom,l=this.width-o.left-o.right),Object(F.a)(n,l,c)),s=f+o.left,h=this.width-o.left-o.right,a=d+o.top,u=this.height-o.top-o.bottom,G.a.setPosition(s,a).setSize(h,u),wr(n,G.a,r.align),this.resetChildPositionState(n);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function Sr(t){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e){return!e||"object"!==Sr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tr(t,e,i){return(Tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jr(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Er=Phaser.Utils.Objects.IsPlainObject,Mr=Phaser.Utils.Objects.GetValue,Rr=Phaser.Structs.Map,Dr=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Er(i)?(i=Mr(s=i,"x",0),n=Mr(s,"y",0),r=Mr(s,"width",void 0),o=Mr(s,"height",void 0)):Er(r)&&(r=Mr(s=r,"width",void 0),o=Mr(s,"height",void 0)),(a=Cr(this,jr(e).call(this,t,i,n,r,o,s))).type="rexPages",a._previousKey=void 0,a._currentKey=void 0,a.sizerChildren=new Rr,a.setSwapMode(Mr(s,"swapMode",0)),a.addChildrenMap("pages",a.pages),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_r(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.clear(),Tr(jr(e.prototype),"destroy",this).call(this,t))}},{key:"setSwapMode",value:function(t){return"string"==typeof t&&(t=Ir[t]),this.swapMode=t,this}},{key:"previousKey",get:function(){return this._previousKey}},{key:"currentKey",get:function(){return this._currentKey},set:function(t){this.swapPage(t)}},{key:"currentPage",get:function(){return this.getPage(this.currentKey)}},{key:"previousPage",get:function(){return this.getPage(this.previousKey)}},{key:"keys",get:function(){return this.sizerChildren.keys()}},{key:"pages",get:function(){return this.sizerChildren.entries}}])&&Pr(i.prototype,n),r&&Pr(i,r),e}();Object.assign(Dr.prototype,kr);var Ir={invisible:0,destroy:1},zr=Dr;r.register("pages",function(t,e,i,n,r){var o=new zr(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.Pages",zr);var Yr=i(146),Br=Phaser.Display.Align.TOP_LEFT,Lr=function(t,e,i){void 0===i&&(i=!0),this.add(t),void 0===e&&(e=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=Br,n.padding=yt(e),n.expand=!0,this.textObject=t,this.textObjectType=Object(Yr.a)(t)?0:1,n.preOffsetY=0,n.offsetY=0,i&&(this.textMask=new Oe.a(this.textObject),this.textObject.setMask(this.textMask.createGeometryMask()),this.add(this.textMask)),this},Ar=function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},Wr=function(t){return(t-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},Vr=function(t){return t*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Hr=function(t){var e,i=t+this.textObject.style.maxLines;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,r,!0)}return e},Xr=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},Fr=function(){var t=Math.max(Math.floor(Wr.call(this,-this.textOY)),0),e=Vr.call(this,t)+this.textOY;return this.textObject.setText(Hr.call(this,t)),this.textObject.rexSizer.offsetY=e,Xr.call(this),this},Gr=function(t,e,i){if(t.width!==e||t.height!==i){t.setFixedSize(e,i);var n=t.style,r=Math.max(e,0),o=Math.ceil(Wr.call(this,i))+1;0===this.textObjectType?(n.wordWrapWidth=r,n.maxLines=o):(n.wrapWidth=r,n.maxLines=o),this.setText()}},Nr=Phaser.Display.Align.In.QuickSet,Ur={setTextObject:Lr,setText:Ar,updateTextObject:Fr,layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,r,o;this.layoutInit(t),void 0===e&&(e=this.minWidth),void 0===i&&(i=this.minHeight),this.resize(e,i);var s,a,h,u,l=this.left,c=this.top;return(n=this.textObject).rexSizer.hidden||(s=l+(o=(r=n.rexSizer).padding).left,a=c+o.top,h=this.width-o.left-o.right,u=this.height-o.top-o.bottom,Gr.call(this,n,h,u),G.a.setPosition(s,a).setSize(h,u),Nr(n,G.a,r.align),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)),r.preOffsetY=0,Xr.call(this)),this.layoutBackgrounds(),this}};function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kr(t,e){return!e||"object"!==Jr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qr(t,e,i){return(Qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qr(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $r(t,e){return($r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var to=Phaser.Utils.Objects.IsPlainObject,eo=Phaser.Utils.Objects.GetValue,io=function(t){function e(t,i,n,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),to(i)?(i=eo(s=i,"x",0),n=eo(s,"y",0),r=eo(s,"width",void 0),o=eo(s,"height",void 0)):to(r)&&(r=eo(s=r,"width",void 0),o=eo(s,"height",void 0)),(a=Kr(this,qr(e).call(this,t,i,n,r,o,s))).type="rexTextBlock",a.textObject=void 0,a.textMask=void 0,a.textObjectType=void 0,a.lines=void 0,a.text=eo(s,"content",""),a._textOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setClampMode(eo(s,"clamplTextOY",!0));var h=eo(s,"background",void 0),u=eo(s,"text",void 0);void 0===u&&(u=no(t));var l=eo(s,"textMask",!0),c=eo(s,"space",void 0);return h&&a.addBackground(h),a.setTextObject(u,c,l),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),Qr(qr(e.prototype),"destroy",this).call(this,t))}},{key:"setClampMode",value:function(t){return this.clampTextOYMode=t,this}},{key:"textOYExceedTop",value:function(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}},{key:"textOYExeceedBottom",value:function(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}},{key:"setTextOY",value:function(t){return this.textOY=t,this}},{key:"setTextOYByPercentage",value:function(t){return this.t=t,this}},{key:"textLineHeight",get:function(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}},{key:"textLineSpacing",get:function(){return this.textObject.lineSpacing}},{key:"linesCount",get:function(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"visibleLinesCount",get:function(){return Math.floor(Wr.call(this,this.textObject.height))}},{key:"topTextOY",get:function(){return 0}},{key:"bottomTextOY",get:function(){return-this.textVisibleHeight}},{key:"textHeight",get:function(){return Vr.call(this,this.linesCount)}},{key:"textObjectHeight",get:function(){return this.textObject.height}},{key:"textVisibleHeight",get:function(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}},{key:"textOY",get:function(){return this._textOY},set:function(t){var e=this.topTextOY,i=this.bottomTextOY,n=this.textOYExceedTop(t),r=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:n?t=e:r&&(t=i)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}},{key:"t",set:function(t){this.textOY=-this.textVisibleHeight*t},get:function(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}}])&&Zr(i.prototype,n),r&&Zr(i,r),e}(),no=function(t){return t.add.text(0,0,"")};Object.assign(io.prototype,Ur);var ro=io;r.register("textBlock",function(t,e,i,n,r,o){var s=new ro(this.scene,t,e,i,n,r,o);return this.scene.add.existing(s),s}),Object(s.a)(window,"RexPlugins.UI.TextBlock",ro);var oo=function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})},so=function(t){return this.childrenMap.child.setText(t),this.resizeController(),this},ao=function(t){return this.setText(this.text+t),this};function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lo(t,e){return!e||"object"!==ho(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var po=Phaser.Utils.Objects.GetValue,yo=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=po(i,"text",void 0),o=po(i,"textWidth",void 0),s=po(i,"textHeight",void 0),a=po(i,"textMask",!0),h=po(i,"content",""),u=new ro(t,{width:o,height:s,text:r,textMask:a,content:h,clamplTextOY:po(i,"clamplChildOY",!1)}),l=void 0===o?1:0,c=void 0===s;oo(u),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:u,proportion:l,expand:c};var f=po(i,"space",void 0);return f&&(f.child=f.text),(n=lo(this,co(e).call(this,t,i))).addChildrenMap("text",r),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(e,un),i=e,(n=[{key:"text",get:function(){return this.childrenMap.child.text}},{key:"linesCount",get:function(){return this.childrenMap.child.linesCount}}])&&uo(i.prototype,n),r&&uo(i,r),e}(),vo={setText:so,appendText:ao};Object.assign(yo.prototype,vo);var go=yo;r.register("textArea",function(t){var e=new go(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.TextArea",go);var bo=Phaser.Utils.Objects.GetValue,mo=Phaser.Display.Align.TOP_LEFT,xo=function(t,e,i){t.setOrigin&&t.setOrigin(0),this.add(t);var n,r,o=this.getSizerConfig(t);if(o.parent=this,o.align=mo,o.expand=e,this.child=t,!0===i?(n=!0,r=0):!1===i?n=!1:(n=bo(i,"mask",!0),r=bo(i,"padding",0)),n){var s=new Oe.a(this,0,r);this.childMask=s.createGeometryMask(),this.add(s)}return this},Oo=function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width:0},wo=function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?0:t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height},ko=i(119),So=function(){var t=this.left,e=this.top;0===this.scrollMode?e+=this.childOY:t+=this.childOY,this.child.setPosition(t,e),Object(ko.a)(this,this.childMask,this.child.getAllChildren()),this.resetChildPositionState(this.child)},Po=i(58),Co={setChild:xo,getChildrenWidth:Oo,getChildrenHeight:wo,resetChildPosition:So,layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var n,r,o=this.child;if(!o.rexSizer.hidden&&(0===this.scrollMode?n=this.width:r=this.height,o.isRexSizer?o.layout(this,n,r):Object(F.a)(o,n,r),this.resetChildPosition(),this.childMask)){var s=Object(Po.a)(this.childMask);s.setPosition().resize(),this.resetChildPositionState(s)}return this}};function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _o(t,e){return!e||"object"!==To(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eo(t,e,i){return(Eo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mo(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ro(t,e){return(Ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Do=Phaser.Utils.Objects.IsPlainObject,Io=Phaser.Utils.Objects.GetValue,zo=function(t){function e(t,i,n,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Do(i)?(i=Io(s=i,"x",0),n=Io(s,"y",0),r=Io(s,"width",void 0),o=Io(s,"height",void 0)):Do(r)&&(r=Io(s=r,"width",void 0),o=Io(s,"height",void 0)),(a=_o(this,Mo(e).call(this,t,i,n,r,o,s))).type="rexScrollableBlock",a.child=void 0,a.childMask=void 0,a._childOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setScrollMode(Io(s,"scrollMode",!0)),a.setClampMode(Io(s,"clamplChildOY",!0));var h=Io(s,"child",void 0),u=Io(s,"expand",!0),l=Io(s,"mask",void 0);return a.setChild(h,u,l),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ro(t,e)}(e,ot),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.child=void 0,this.childMask&&(this.childMask.destroy(),this.childMask=void 0),Eo(Mo(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=Zi[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampChildOYMode=t,this}},{key:"childOYExceedTop",value:function(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}},{key:"childOYExeceedBottom",value:function(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setChildOYByPercentage",value:function(t){return this.t=t,this}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"childHeight",get:function(){return 0===this.scrollMode?this.child.height:this.child.width}},{key:"childWidth",get:function(){return 0===this.scrollMode?this.child.width:this.child.height}},{key:"topChildOY",get:function(){return 0}},{key:"bottomChildOY",get:function(){return-this.visibleHeight}},{key:"visibleHeight",get:function(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}},{key:"childOY",get:function(){return this._childOY},set:function(t){var e=this.topChildOY,i=this.bottomChildOY,n=this.childOYExceedTop(t),r=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:n?t=e:r&&(t=i)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}},{key:"t",set:function(t){this.childOY=-this.visibleHeight*t},get:function(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}}])&&jo(i.prototype,n),r&&jo(i,r),e}();Object.assign(zo.prototype,Co);var Yo=zo;r.register("scrollableBlock",function(t){var e=new Yo(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.ScrollableBlock",Yo);function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lo(t,e){return!e||"object"!==Bo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wo(t,e){return(Wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vo=Phaser.Utils.Objects.GetValue,Ho=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=Qi(i),o=Vo(i,"panel",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplChildOY=Vo(i,"clamplChildOY",!1);var s,a,h=new Yo(t,o),u=Vo(o,"width",void 0),l=Vo(o,"height",void 0);0===r?(s=void 0===u?1:0,a=void 0===l):(s=void 0===l?1:0,a=void 0===u),i.type="rexScrollablePanel",i.child={gameObject:h,proportion:s,expand:a};var c=Vo(i,"space",void 0);return c&&(c.child=c.panel),(n=Lo(this,Ao(e).call(this,t,i))).addChildrenMap("panel",n.childrenMap.child),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wo(t,e)}(e,un),e}();r.register("scrollablePanel",function(t){var e=new Ho(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.ScrollablePanel",Ho);var Xo={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},Fo=function(t,e){t.popUp(e)},Go=function(t,e){t.scaleDownDestroy(e,void 0,void 0,!1)},No=function(t,e){t.fadeIn(e)},Uo=function(t,e){t.fadeOut(e,!1)},Jo=i(172);function Zo(t){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ko(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qo(t,e,i){return(qo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$o(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function $o(t){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var es=Phaser.Utils.Objects.GetValue,is=function(t){function e(t,i){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:createDefaultTextObject(t)}),r=this,(n=!(o=$o(e).call(this,t,i))||"object"!==Zo(o)&&"function"!=typeof o?Qo(r):o).type="rexToast",n.setTransitInTime(es(i,"duration.in",200)),n.setDisplayTime(es(i,"duration.hold",1200)),n.setTransitOutTime(es(i,"duration.out",200)),n.setTransitInCallback(es(i,"transitIn",Xo.popUp)),n.setTransitOutCallback(es(i,"transitOut",Xo.scaleDown)),n.player=new Jo.a(Qo(n),{dtMode:1}),n.messages=[],n.setVisible(!1),n}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}(e,_e),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.player.destroy(),this.player=void 0,this.messages=void 0,qo($o(e.prototype),"destroy",this).call(this,t))}},{key:"setDisplayTime",value:function(t){return this.displayTime=t,this}},{key:"setTransitOutTime",value:function(t){return this.transitOutTime=t,this}},{key:"setTransitInTime",value:function(t){return this.transitInTime=t,this}},{key:"setTransitInCallback",value:function(t){switch("string"==typeof t&&(t=Xo[t]),t){case Xo.popUp:t=Fo;break;case Xo.fadeIn:t=No}return this.transitInCallback=t,this}},{key:"setTransitOutCallback",value:function(t){switch("string"==typeof t&&(t=Xo[t]),t){case Xo.scaleDown:t=Go;break;case Xo.fadeOut:t=Uo}return this.transitOutCallback=t,this}},{key:"show",value:function(t){if(void 0===t){if(0===this.messages.length)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(1).setVisible(!0),"string"==typeof t?this.setText(t):t(this),this.layout();var e=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[kn.default]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[kn.default]]];return this.player.load(e,this).once("complete",function(){this.show()},this).start(),this}}])&&Ko(i.prototype,n),r&&Ko(i,r),e}();r.register("toast",function(t){var e=new is(this.scene,t);return this.scene.add.existing(e),e}),Object(s.a)(window,"RexPlugins.UI.Toast",is);var ns=i(41),rs=function(t,e){void 0===e&&(e={}),void 0===e.options&&(e.options={});var i=e.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;void 0===i.animation?i.animation={}:!1===i.animation&&(n=!0,i.animation={});var r=i.animation;n&&(r.duration=0);var o=r.onProgress;r.onProgress=function(e){o&&o(e),t.needRedraw()};var s=r.onComplete;return r.onComplete=function(e){s&&s(e),t.needRedraw()},e},os=function(t){if(!window.Chart)return console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this;return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,rs(this,t)),this},ss=function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,i=this.chart.data.datasets,n=0,r=i.length;n<r;n++)if((e=i[n]).label===t)return e}},as=function(t,e){var i=this.getChartDataset(t);if(void 0!==i){if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return;return i.data[e]}},hs=function(t,e,i){if(void 0===this.chart)return this;var n=this.getChartDataset(t);if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return this;return n.data[e]=i,this},us=function(){if(void 0===this.chart)return this;this.chart.update()};function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fs(t,e){return!e||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ds(t,e,i){return(ds="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ps(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function ps(t){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ys(t,e){return(ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vs=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=fs(this,ps(e).call(this,t,i,n,r,o))).type="rexChart",a.chart=void 0,void 0!==s&&a.setChart(s),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)}(e,ns["a"]),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),ds(ps(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,i){if(t===this.width&&i===this.height)return this;if(ds(ps(e.prototype),"resize",this).call(this,t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}}])&&cs(i.prototype,n),r&&cs(i,r),e}(),gs={setChart:os,getChartDataset:ss,getChartData:as,setChartData:hs,updateChart:us};Object.assign(vs.prototype,gs);var bs=vs;r.register("chart",function(t,e,i,n,r){var o=new bs(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.Chart",bs);var ms=i(82).a;r.register("video",function(t,e,i,n,r){var o=new ms(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.Video",ms);var xs=i(83).a;r.register("videoCanvas",function(t,e,i,n,r){var o=new xs(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.VideoCanvas",xs);var Os=i(88).a;r.register("youtubePlayer",function(t,e,i,n,r){var o=new Os(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o}),Object(s.a)(window,"RexPlugins.UI.YoutubePlayer",Os);var ws=i(62);r.register("tap",function(t,e){return Object(ws.a)(t)||(e=t,t=this.scene),new bn(t,e)}),Object(s.a)(window,"RexPlugins.UI.Tap",bn);r.register("press",function(t,e){return Object(ws.a)(t)||(e=t,t=this.scene),new xn(t,e)}),Object(s.a)(window,"RexPlugins.UI.Press",xn);var ks=i(195).a;r.register("swipe",function(t,e){return Object(ws.a)(t)||(e=t,t=this.scene),new ks(t,e)}),Object(s.a)(window,"RexPlugins.UI.Swipe",ks);var Ss=i(191).a;r.register("pan",function(t,e){return Object(ws.a)(t)||(e=t,t=this.scene),new Ss(t,e)}),Object(s.a)(window,"RexPlugins.UI.Pan",Ss);var Ps=i(124).a;r.register("pinch",function(t){return new Ps(this.scene,t)}),Object(s.a)(window,"RexPlugins.UI.Pinch",Ps);var Cs=i(192).a;r.register("rotate",function(t){return new Cs(this.scene,t)}),Object(s.a)(window,"RexPlugins.UI.Rotate",Cs);var Ts=i(256);function js(t){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _s(t,e){return!e||"object"!==js(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ms(t,e){return(Ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rs=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_s(this,Es(e).call(this,t,i))).add=new r(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ms(t,e)}(e,Phaser.Plugins.ScenePlugin),e}(),Ds={hide:ze,show:Ie,isShown:Ye,edit:Ts.a};Object.assign(Rs.prototype,Ds);e.default=Rs},4:function(t,e,i){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},41:function(t,e,i){"use strict";var n=Phaser.Renderer.WebGL.Utils,r=function(t,e,i,r,o){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var s=e.frame,a=s.width,h=s.height,u=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,h,e.x,e.y,a/e.resolution,h/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,u(e._tintTL,r.alpha*e._alphaTL),u(e._tintTR,r.alpha*e._alphaTR),u(e._tintBL,r.alpha*e._alphaBL),u(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}},o=function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)},s=i(12),a=(s.default,s.default,{renderWebGL:r,renderCanvas:o}),h=Phaser.Display.Color,u={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,i){void 0===i&&(i=new h);var n=this.context.getImageData(t,e,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel:function(t,e,i,n,r,o){if("number"!=typeof i){var s=i;i=s.red,n=s.green,r=s.blue,o=s.alpha}void 0===o&&(o=0!==i||0!==n||0!==r?255:0);var a=this.context.createImageData(1,1);return a.data[0]=i,a.data[1]=n,a.data[2]=r,a.data[3]=o,this.context.putImageData(a,t,e),this.dirty=!0,this}},l={updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture:function(t,e,i,n,r){var o,s=this.canvas,a=this.scene.sys,h=a.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n?n=s.width:n*=this.resolution,void 0===r?r=s.height:r*=this.resolution;var u=(o=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,n,r)).getSourceImage();u.width!==n&&(u.width=n),u.height!==r&&(u.height=r);var l=u.getContext("2d");return l.clearRect(0,0,n,r),l.drawImage(s,e,i,n,r),h.gl&&o&&h.canvasToTexture(u,o.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var i=this.scene.textures.getFrame(t,e);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.resize(i.cutWidth,i.cutHeight):this.context.clearRect(0,0,i.cutWidth,i.cutHeight),this.context.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}},c=Phaser.Display.Canvas.CanvasPool,f=Phaser.GameObjects.Components,d=Phaser.GameObjects.GameObject,p=new Phaser.Class({Extends:d,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,a,u,l],initialize:function(t,e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=1),d.call(this,t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=t.sys.game.config.resolution,this.canvas=c.create(this,this.resolution*n,this.resolution*r),this.context=this.canvas.getContext("2d"),this.dirty=!1,this.setPosition(e,i),this.setSize(n,r),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this),this.dirty=!0},getCanvas:function(t){return t||(this.dirty=!0),this.canvas},needRedraw:function(){return this.dirty=!0,this},preDestroy:function(){c.remove(this.canvas)},resize:function(t,e){return this.width===t&&this.height===e?this:(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0,this)}});e.a=p},5:function(t,e,i){"use strict";var n=Phaser.Scene;e.a=function(t){return t instanceof n}},51:function(t,e,i){"use strict";e.a=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))}},52:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,o=function(){function t(e,i,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,i,n,r,o)}var e,i,o;return e=t,(i=[{key:"setTo",value:function(t,e,i,n,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,n),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=r(t,"x",0),i=r(t,"y",0));var n=this.cornerRadius;return n.tl=s(r(t,"tl",void 0),e,i),n.tr=s(r(t,"tr",void 0),e,i),n.bl=s(r(t,"bl",void 0),e,i),n.br=s(r(t,"br",void 0),e,i),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&n(e.prototype,i),o&&n(e,o),t}(),s=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},a=o,h=function(t,e,i){var n=i.length;if(n>=2){var r=i[n-2],o=i[n-1];if(t===r&&e===o)return i}return i.push(t,e),i},u=i(15),l=i.n(u),c=Phaser.Utils.Objects.GetValue,f=function(t,e,i,n,r,o,s,a){var u,f,d,p=c(i,"x",i),y=c(i,"y",i);o&&(r+=360),n=l()(n);for(var v=((r=l()(r))-n)/s,g=0;g<=s;g++)d=n+v*g,u=t+p*Math.cos(d),f=e+y*Math.sin(d),h(u,f,a);return a},d=i(140),p=i.n(d),y=i(141),v=i.n(y);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=Phaser.Utils.Objects.GetValue,k=function(t){function e(t,i,n,r,o,s,h,u){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0);var c=w(s,"iteration",void 0);s=w(s,"radius",s);var f=new a(0,0,r,o,s);return(l=m(this,x(e).call(this,t,"RoundRectangle",f))).setIteration(c),l.setPosition(i,n),void 0!==h&&l.setFillStyle(h,u),l.updateDisplayOrigin(),l.updateData(),l}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,Phaser.GameObjects.Shape),i=e,(n=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var i,n=t.cornerRadius,r=this.iteration+1;if(i=n.br,S(i)){var o=t.width-i.x,s=t.height-i.y;f(o,s,i,0,90,!1,r,e)}else h(t.width,t.height,e);if(i=n.bl,S(i)){o=i.x,s=t.height-i.y;f(o,s,i,90,180,!1,r,e)}else h(0,t.height,e);if(i=n.tl,S(i)){o=i.x,s=i.y;f(o,s,i,180,270,!1,r,e)}else h(0,0,e);if(i=n.tr,S(i)){o=t.width-i.x,s=i.y;f(o,s,i,270,360,!1,r,e)}else h(t.width,0,e);return e.push(e[0],e[1]),this.pathIndexes=p()(e),this}},{key:"resize",value:function(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e?this:(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData(),this)}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}},{key:"height",get:function(){return this.geom.height},set:function(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&b(i.prototype,n),r&&b(i,r),e}(),S=function(t){return 0!==t.x&&0!==t.y};Object.assign(k.prototype,v.a);e.a=k},53:function(t,e,i){"use strict";var n=i(25),r=i(72);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,i,n;return e=t,(i=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&o(e.prototype,i),n&&o(e,n),t}();Object.assign(s.prototype,r.a);var a=s,h=i(11);function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=Phaser.Utils.Objects.GetValue,c=Phaser.Utils.Array.SpliceOne,f=new h.a,d=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(i)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(l(t,"cellHeight",30)),this.setDefaultCellWidth(l(t,"cellWidth",30)),this.initCells(l(t,"cellsCount",0)),this.setColumnCount(l(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,i=this.cells.length;e<i;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}},{key:"insertNewCell",value:function(t,e){var i=this.cells;if(t===i.length){var n=t+e;i.legth=n;for(var r=t;r<n;r++)i[r]=null}else{var o,s=[];s.length=e;for(r=0;r<e;r++)s[r]=null;(o=this.cells).splice.apply(o,[t,0].concat(s))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var i=t+e,n=t;n<i;n++)this.freeCell(n);return i===this.cells.length?this.cells.length=t:(1===e?c(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return i=e?Math.ceil(i):Math.floor(i)}var n,r=this.rowCount,o=t;for(i=0;;){if(o-=this.getRowHeight(i),n=i>=0&&i<r,!(o>0&&n)){if(0===o)return i;if(e){var s=i;(n=(i+=1)>=0&&i<r)||(i=s)}return i}i+=1}}},{key:"widthToColIndex",value:function(t,e){var i=t/this.defaultCellWidth;return i=e?Math.ceil(i):Math.floor(i)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,n=t;n<=e;n++)i+=this.getRowHeight(n);return i}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,n=0,r=0;r<e;r++)n<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(n=i);return n}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),n=i?i.deltaHeight:0;e=this.defaultCellHeight+n}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}},{key:"newCell",value:function(t){var e=f.pop();return null===e?e=new a(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,i=this.cells,n=t,r=i.length;n<r;n++)(e=i[n])&&(e.index=n);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),f.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&u(e.prototype,i),n&&u(e,n),t}(),p=i(61),y=i(51),v=i(58),g=i(119);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e,i){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=n.a,P=Phaser.GameObjects.Components,C=Phaser.Structs.Set,T=Phaser.Utils.Objects.GetValue,j=Phaser.Math.Clamp,_=function(t){function e(t,i,n,r,o,s){var a,h,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===s&&(s={}),h=this,(a=!(u=w(e).call(this,t,i,n,r,o))||"object"!==b(u)&&"function"!=typeof u?x(h):u).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new C,a.preVisibleCells=new C,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var l=T(s,"reuseCellContainer",!1);a.cellContainersPool=l?t.add.group():void 0;var c=T(s,"cellVisibleCallback",null);if(null!==c){var f=T(s,"cellVisibleCallbackScope",void 0);a.on("cellvisible",c,f)}if(null!==(c=T(s,"cellInvisibleCallback",null))){f=T(s,"cellInvisibleCallbackScope",void 0);a.on("cellinvisible",c,f)}if(a.cellsMask=void 0,a.setCellsMask(T(s,"mask",!0)),a.setScrollMode(T(s,"scrollMode",0)),a.setClampMode(T(s,"clamplTableOXY",!0)),0===a.scrollMode){var p=T(s,"cellWidth",void 0);if(a.expandCellSize=void 0===p,void 0===p){var y=T(s,"columns",1);s.cellWidth=a.width/y}}else{p=T(s,"cellHeight",void 0);var v=T(s,"cellWidth",void 0);a.expandCellSize=void 0===p,s.cellWidth=p,s.cellHeight=v}return a.table=new d(x(a),s),a.updateTable(),a}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,S),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),O(w(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=E[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t?this:(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e),this)}},{key:"setColumnCount",value:function(t){return this.table.colCount===t?this:(this.table.setColumnCount(t),this)}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===b(t)&&(t=t.index),void 0===e&&(e=1),e<=0?this:(t=j(t,0,this.cellsCount),this.table.insertNewCell(t,e),this)}},{key:"removeCell",value:function(t,e){if("object"===b(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,n=this.preVisibleCells,r=this.visibleCells,o=t,s=t+e;o<s;o++)(i=this.getCell(o,!1))&&(r.contains(i)&&(this.hideCell(i),r.delete(i)),n.delete(i));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,i=this.topTableOY,n=this.bottomTableOY,r=this.tableOYExceedTop(t),o=this.tableOYExeceedBottom(t);this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:o&&(t=n));return this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=o,this}},{key:"setTableOX",value:function(t){var e=this.table,i=this.leftTableOX,n=this.rightTableOX,r=this.tableOXExeceedLeft(t),o=this.tableOXExeceedRight(t);this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:o&&(t=n));return this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,o&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=o,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),n=this.tableOX-(0===this.scrollMode?t:e),r=this.table,o=r.heightToRowIndex(-i),s=r.widthToColIndex(-n),a=r.colRowToCellIndex(s,o);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,i;if(!0===t?(e=!0,i=0):!1===t?e=!1:(e=T(t,"mask",!0),i=T(t,"padding",0)),e){var n=new p.a(this,0,i);this.cellsMask=n.createGeometryMask(),this.add(n)}return this}},{key:"maskCells",value:function(){for(var t,e=[],i=this.visibleCells.entries,n=0,r=i.length;n<r;n++)(t=i[n].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(g.a)(this,this.cellsMask,e)}},{key:"resize",value:function(t,i){return this.width===t&&this.height===i?this:(O(w(e.prototype),"resize",this).call(this,t,i),this.cellsMask&&Object(y.a)(Object(v.a)(this.cellsMask),t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this)}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var n=t.colRowToCellIndex(i,e),r=this.bottomBound,o=this.rightBound,s=t.cellsCount-1,a=t.colCount-1,h=this.getTLX(i),u=h,l=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;l<r&&n<=s;){if(this.table.isValidCellIdx(n)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=n),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<n&&(this.lastVisibleCellIdx=n);var c=t.getCell(n,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(u,l):c.setXY(l,u)}u<o&&i<a?(u+=t.getColWidth(i),i+=1):(u=h,l+=t.getRowHeight(e),i=this.visibleStartX,e+=1),n=t.colRowToCellIndex(i,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var i=t.getContainer();i?null===e?this.cellContainersPool.add(i):e!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate(function(t){e.contains(t)||this.hideCell(t)},this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&m(i.prototype,n),r&&m(i,r),e}();Object.assign(_.prototype,P.GetBounds);var E={v:0,vertical:0,h:1,horizontal:1};e.a=_},54:function(t,e,i){"use strict";var n=i(57),r={plainText:null,prevProp:null},o=new(i(33).a),s={},a={splitText:function(t,e){for(var i,n,r=[],o=0,s=t.length,a=s;i=l.exec(t);)n=i[0],o<(a=l.lastIndex-n.length)&&r.push(t.substring(o,a)),void 0===e&&r.push(n),o=l.lastIndex;return o<s&&r.push(t.substring(o,s)),r},tagTextToProp:function(t,e){var i,n;null==e&&(e={}),e.img&&h(e,M,"img"),c.test(t)?(h(e,R,"b",!0),i=""):f.test(t)?(h(e,M,"b"),i=""):d.test(t)?(h(e,R,"i",!0),i=""):p.test(t)?(h(e,M,"i"),i=""):y.test(t)?(n=t.match(y),h(e,R,"size",n[1]+"px"),i=""):v.test(t)?(h(e,M,"size"),i=""):g.test(t)?(n=t.match(g),h(e,R,"color",n[1]),i=""):b.test(t)?(h(e,M,"color"),i=""):m.test(t)?(n=t.match(m),h(e,R,"u",!0),i=""):x.test(t)?(n=t.match(x),h(e,R,"u",n[1]),i=""):O.test(t)?(h(e,M,"u"),i=""):w.test(t)?(h(e,R,"shadow",!0),i=""):k.test(t)?(h(e,M,"shadow"),i=""):S.test(t)?(h(e,R,"stroke",!0),i=""):P.test(t)?(n=t.match(P),h(e,R,"stroke",n[1]),i=""):C.test(t)?(h(e,M,"stroke"),i=""):T.test(t)?(n=t.match(T),h(e,R,"img",n[1]),i=""):j.test(t)?(h(e,M,"img"),i=""):_.test(t)?(n=t.match(_),h(e,R,"area",n[1]),i=""):E.test(t)?(h(e,M,"area"),i=""):i=t;var o=r;return o.plainText=i,o.prop=e,o},propToContextStyle:function(t,e){var i=o;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var n=e.size;"number"==typeof n&&(n=n.toString()+"px"),i.fontSize=n}else i.fontSize=t.fontSize;i.fontStyle=u(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var n in null==i&&(i=s),i)e.hasOwnProperty(n)||(t="[/"+n+"]"+t);var r="";for(var n in e)i[n]!==e[n]&&("size"===n?r+="[size="+e[n].replace("px","")+"]":"color"===n||"stroke"===n||"img"===n?r+="["+n+"="+e[n]+"]":"u"===n?!0===e[n]?r+="[u]":r+="[u="+e[n]+"]":r+="["+n+"]");return t=r+t}},h=function(t,e,i,n){return e===R?t[i]=n:t.hasOwnProperty(i)&&delete t[i],t},u=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},l=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,c=/\[b\]/i,f=/\[\/b\]/i,d=/\[i\]/i,p=/\[\/i\]/i,y=/\[size=(\d+)\]/i,v=/\[\/size\]/i,g=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,b=/\[\/color\]/i,m=/\[u\]/i,x=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,O=/\[\/u\]/i,w=/\[shadow\]/i,k=/\[\/shadow\]/i,S=/\[stroke\]/i,P=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,C=/\[\/stroke\]/i,T=/\[img=([^\]]+)\]/i,j=/\[\/img\]/i,_=/\[area=([^\]]+)\]/i,E=/\[\/area\]/i,M=!1,R=!0,D=a;function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,Y(e).call(this,t,i,n,r,o,"rexBBCodeText",D))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(e,n["a"]),e}();e.a=L},55:function(t,e,i){"use strict";var n=i(57);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o={plainText:null,prevProp:null},s=new(i(33).a),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,i,n;return e=t,(i=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var i,n,r,o=[],s=0,a=t.length,h=a;i=l.exec(t);)n=i[0],s<(h=l.lastIndex-n.length)&&o.push(t.substring(s,h)),void 0===e?o.push(n):1===e&&(c.test(n)?(r=n.match(f),o.push(r[2])):d.test(n)&&(r=n.match(p),o.push(r[2]))),s=l.lastIndex;return s<a&&o.push(t.substring(s,a)),o}},{key:"tagTextToProp",value:function(t,e){var i,n;if(c.test(t)){if(null!=(a=t.match(f))){var r=a[1],s=this.tags;(n=s.hasOwnProperty(r)?s[r]:{})._class=r,i=a[2]}}else if(d.test(t)){var a;if(null!=(a=t.match(p))){var u=a[1];(n=h(u))._style=u,i=a[2]}}null==i&&(i=t),null==n&&(n={});var l=o;return l.plainText=i,l.prop=n,l}},{key:"propToContextStyle",value:function(t,e){var i=s;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var n=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=n}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),i.fontSize=r}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var o=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=o}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")){e.hasOwnProperty("color")?e.color:e["font-color"];i.color=e.color}else i.color=t.color;if(e.hasOwnProperty("stroke")){var a=e.stroke;i.stroke=a.hasOwnProperty("color")?a.color:t.stroke,i.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var h=e.shadow;i.shadowColor=h.hasOwnProperty("color")?h.color:t.shadowColor,i.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:t.shadowOffsetX,i.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:t.shadowOffsetY,i.shadowBlur=h.hasOwnProperty("blur")?h.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var u=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=u.hasOwnProperty("color")?u.color:t.underlineColor,i.underlineThickness=u.hasOwnProperty("thinkness")?u.thinkness:t.underlineThickness,i.underlineOffset=u.hasOwnProperty("offset")?u.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}},{key:"propToTagText",value:function(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&r(e.prototype,i),n&&r(e,n),t}(),h=function(t){for(var e,i,n,r={},o=0,s=(t=t.split(";")).length;o<s;o++)if(i=(e=t[o].split(":"))[0],n=e[1],!u(i)&&!u(n)){switch(i){case"stroke":var a=n.split(" ");n={},(l=a.length)>=1&&(n.color=a[0]),l>=2&&(n.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var h=n.split(" ");n={},(l=h.length)>=1&&(n.color=h[0]),l>=2&&(n.offsetX=parseInt(h[1].replace("px",""))),l>=3&&(n.offsetY=parseInt(h[2].replace("px",""))),l>=4&&(n.blur=parseInt(h[3].replace("px","")));break;case"u":case"underline":var l,c=n.split(" ");n={},(l=c.length)>=1&&(n.color=c[0]),l>=2&&(n.thinkness=parseInt(c[1].replace("px",""))),l>=3&&(n.offset=parseInt(c[2].replace("px","")))}r[i]=n}return r},u=function(t){return 0===(t=t.replace(y,"")).length},l=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,c=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,d=/<\s*style=/i,p=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,y=/^\s+|\s+$/,v=a;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t,e,i){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=Phaser.Utils.Objects.GetValue,S=function(t){function e(t,i,n,r,o){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=k(o,"tags",void 0),h=new v(a);return(s=m(this,O(e).call(this,t,i,n,r,o,"rexTagText",h))).parser=h,s}var i,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,n["a"]),i=e,(r=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){x(O(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&b(i.prototype,r),o&&b(i,o),e}();e.a=S},56:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t.events:t.on?t:void 0}},57:function(t,e,i){"use strict";var n=i(71),r=i.n(n),o=i(33),s=i(1),a=(s.a.hleft,s.a.hcenter),h=s.a.hright,u=(s.a.vtop,s.a.vcenter),l=s.a.vbottom,c={draw:function(t,e,i,n){var r=this.penManager;this.hitAreaManager.clear();var o=this.context;o.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var c,f,d,p,y,v,g=s.halign,b=s.valign,m=s.lineHeight,x=r.lines,O=x.length,w=s.maxLines;w>0&&O>w?(f=w,d=b===u?Math.floor((O-f)/2):b===l?O-f:0):(f=O,d=0),p=d+f,v=b===u?Math.max((n-f*m)/2,0):b===l?Math.max(n-f*m-2,0):0,v+=e;for(var k=d;k<p;k++)if(0!==(c=r.getLineWidth(k))){y=g===a?(i-c)/2:g===h?i-c:0,y+=t;for(var S=x[k],P=0,C=S.length;P<C;P++)this.drawPen(S[P],y,v)}o.restore()},drawPen:function(t,e,i){e+=t.x,i+=t.y;var n=this.canvas,r=this.context;r.save();var o=this.parser.propToContextStyle(this.defatultStyle,t.prop);o.buildFont(),o.syncFont(n,r),o.syncStyle(n,r),o.underlineThickness>0&&t.width>0&&this.drawUnderline(e,i,t.width,o),t.isTextPen&&this.drawText(e,i,t.text,o),t.isImagePen&&this.drawImage(e,i,t.prop.img,o),r.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,i-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,i,n){e+=n.underlineOffset-n.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context,o=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=n.underlineColor,r.lineWidth=n.underlineThickness,r.moveTo(t,e),r.lineTo(t+i,e),r.stroke(),r.lineCap=o},drawText:function(t,e,i,n){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;n.strokeThickness&&(n.syncShadow(r,n.shadowStroke),r.strokeText(i,t,e)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(i,t,e))},drawImage:function(t,e,i,n){var r=this.parent.imageManager,o=r.get(i),s=r.getFrame(i);t+=o.left,e+=-this.startYOffset+o.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,o.width,o.height)}},f=i(11);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=Phaser.Utils.Objects.GetValue,y=s.a.NO_NEWLINE,v=s.a.RAW_NEWLINE,g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.text=p(t,"text",""),this.x=p(t,"x",0),this.y=p(t,"y",0),this.width=p(t,"width",0);var e=p(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=p(t,"newLineMode",0),this.startIndex=p(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===v&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==y&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===v&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&d(e.prototype,i),n&&d(e,n),t}(),b=i(10),m=i(12);function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var O=Phaser.Utils.Objects.GetFastValue,w=s.a.NO_NEWLINE,k=s.a.WRAPPED_NEWLINE,S=new f.a,P=new f.a,C=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=O(e,"pensPool",S),this.LinesPool=O(e,"linesPool",P),this.tagToText=O(e,"tagToText",m.default),this.tagToTextScope=O(e,"tagToTextScope",void 0)}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,i,n,r,o){var s=this.PensPool.pop();return null==s&&(s=new g),T.text=t,T.x=e,T.y=i,T.width=n,T.prop=r,T.newLineMode=o,s.resetFromJSON(T),this.addPen(s),this}},{key:"addImagePen",value:function(t,e,i,n){return this.addTextPen("",t,e,i,n,w),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,i=t?t.y:0,n=t?Object(b.a)(t.prop):null;return this.addTextPen("",e,i,0,n,k),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var i=this.lastLine;null==i&&(i=this.LinesPool.pop()||[],this.lines.push(i)),i.push(t),t.newLineMode!==w&&(i=this.LinesPool.pop()||[],this.lines.push(i)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var i=0,n=this.lines.length;i<n;i++)for(var r=this.lines[i],o=0,s=r.length;o<s;o++){var a=r[o];e.addPen(a.text,a.x,a.y,a.width,Object(b.a)(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,n=!1;for(e=t;e>=0&&!(n=null!=(i=this.lines[e])&&i.length>0);e--);return n?i[i.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,n=this.lines.length;i<n;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,i){if(void 0===t&&(t=0),void 0===e){var n=this.lastPen;if(null==n)return"";e=n.endIndex}void 0===i&&(i=!1);for(var r,o,s,a,h,u,l="",c=0,f=this.pens.length;c<f&&((a=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],o=i?r.wrapText:r.plainText,h=r.prop,(s=r.startIndex)>=t&&a<=e||(o=o.substring(t-s,e-s)),this.tagToTextScope?l+=this.tagToText.call(this.tagToTextScope,o,h,u):l+=this.tagToText(o,h,u),u=h,!(a>=e)));c++);return l}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,i=0,n=e.length;i<n;i++)t+=e[i].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,i=0,n=this.pens.length;i<n;i++)t+=e[i].rawTextLength;return t}}])&&x(e.prototype,i),n&&x(e,n),t}(),T={},j=C;function _(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=Phaser.Geom.Rectangle,M=new f.a,R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return M.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,i,n,r){var o=M.pop();return null===o?o=new E(e,i,n,r):o.setTo(e,i,n,r),o.key=t,this.hitAreas.push(o),this}},{key:"contains",value:function(t,e){for(var i,n=this.hitAreas,r=0,o=n.length;r<o;r++)if((i=n[r]).contains(t,e))return i.key;return!1}},{key:"drawBounds",value:function(t,e,i){void 0===e&&(e=16777215),i&&t.save().scaleCanvas(i.scaleX,i.scaleY).rotateCanvas(i.rotation).translateCanvas(i.x,i.y);for(var n,r=this.hitAreas,o=0,s=r.length;o<s;o++)n=r[o],t.lineStyle(1,e).strokeRect(n.x,n.y,n.width,n.height);return i&&t.restore(),this}}])&&_(e.prototype,i),n&&_(e,n),t}(),D=function(t,e,i,n){var r=this.hitAreaManager.contains(i,n);!1!==r&&(this.parent.emit("".concat(t,"-").concat(r),e,i,n),this.parent.emit(t,r,e,i,n))},I=function(){this.parent.on("pointerdown",function(t,e,i,n){D.call(this,"areadown",t,e,i)},this).on("pointerup",function(t,e,i,n){D.call(this,"areaup",t,e,i)},this)},z=s.a.NO_NEWLINE,Y=s.a.RAW_NEWLINE,B=s.a.WRAPPED_NEWLINE,L=s.a.NO_WRAP,A=s.a.WORD_WRAP,W=(s.a.CHAR_WRAP,s.a.SPLITREGEXP),V=[],H=new f.a;H.newline=function(t,e,i){var n=this.pop();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=i,n};var X=function(t,e,i,n,r){n<=0&&(i=L);var o=V;if(H.pushMultiple(o),!t||!t.length)return o;for(var s,a,h,u=t.split(W),l=0,c=u.length;l<c;l++)if(s=u[l],h=l===c-1?z:Y,i!==L){var f,d;if(a=0===l?n-r:n,s.length<=100&&(x=e(s))<=a){o.push(H.newline(s,x,h));continue}for(var p,y="",v="",g=0,b=0,m=(f=i===A?s.split(" "):s).length;b<m;b++)d=f[b],i===A?(y+=d,b<m-1&&(y+=" ")):y+=d,(p=e(y))>a&&(0===b?o.push(H.newline("",0,B)):(o.push(H.newline(v,g,B)),y=d,i===A&&b<m-1&&(y+=" "),p=e(y)),a=n),v=y,g=p;o.push(H.newline(v,g,h))}else{var x=e(s);o.push(H.newline(s,x,h))}return o};function F(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var G=Phaser.Utils.Objects.GetValue,N=s.a.NO_WRAP,U=s.a.NO_NEWLINE,J=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=G(e,"context",null),this.canvas=this.context.canvas,this.parser=G(e,"parser",null),this.defatultStyle=G(e,"style",null),this.autoRound=!0,this.pensPool=G(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new R;var i=this.context;this.getTextWidth=function(t){return i.measureText(t).width}}var e,i,n;return e=t,(i=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,i,n,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===t)return r;for(var o,s,a,h,u,l=this.canvas,c=this.context,f=0,d=0,p=this.parser.splitText(t),y=0,v=p.length;y<v;y++)if(o=(h=this.parser.tagTextToProp(p[y],s)).plainText,(s=h.prop).img){var g=this.imageManager.getOuterWidth(s.img);i>0&&e!==N&&i<f+g&&(r.addNewLinePen(),d+=n,f=0),r.addImagePen(f,d,g,Object(b.a)(s)),f+=g}else if(""!==o){var m;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,s)).buildFont(),a.syncFont(l,c),a.syncStyle(l,c);for(var x=0,O=(u=X(o,this.getTextWidth,e,i,f)).length;x<O;x++)m=u[x],r.addTextPen(m.text,f,d,m.width,Object(b.a)(s),m.newLineMode),m.newLineMode!==U?(f=0,d+=n):f+=m.width;this.context.restore()}return r}},{key:"newPenManager",value:function(){return new j({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,i){var n;if(null==t)n=this.penManager.plainText;else{var r=this.parser.splitText(t,1);n="";for(var o=0,s=r.length;o<s;o++)n+=r[o]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=n.length),n=n.substring(e,i)),n}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePenManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}},{key:"getText",value:function(t,e,i,n){if(null==t)return this.penManager.getSliceTagText(e,i,n);var r=this.tmpPenManager,o=this.defatultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,r),r.getSliceTagText(e,i,n)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&F(e.prototype,i),n&&F(e,n),t}(),Z={setInteractive:I};Object.assign(J.prototype,c,Z);var K=J;function Q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var q,$=Phaser.Utils.Objects.GetValue,tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,i,n;return e=t,(i=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var i=0,n=(r=t).length;i<n;i++)this._add(r[i]);else{var r=t;for(var t in r)this._add(t,r[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var i=e.key,n=e.frame,r=e.width,o=e.height;if(void 0===r||void 0===o){var s=this.textureManager.getFrame(i,n),a=s?s.cutWidth:0,h=s?s.cutHeight:0;void 0===r&&void 0===o?(r=a,o=h):void 0===r?r=a*(o/h):void 0===o&&(o=h*(r/a))}this.images[t]={key:i,frame:n,width:r,height:o,y:$(e,"y",0),left:$(e,"left",0),right:$(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&Q(e.prototype,i),n&&Q(e,n),t}();function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var it=Phaser.DOM.AddToDOM,nt=Phaser.Display.Canvas.CanvasPool,rt=Phaser.GameObjects.Components,ot=Phaser.GameObjects.GameObject,st=Phaser.Utils.Objects.GetValue,at=Phaser.DOM.RemoveFromDOM,ht=s.a.SPLITREGEXP,ut={},lt=new Phaser.Class({Extends:ot,Mixins:[rt.Alpha,rt.BlendMode,rt.ComputedSize,rt.Crop,rt.Depth,rt.Flip,rt.GetBounds,rt.Mask,rt.Origin,rt.Pipeline,rt.ScrollFactor,rt.Tint,rt.Transform,rt.Visible,r.a],initialize:function(t,e,i,n,r,s,a){if(void 0===e&&(e=0),void 0===i&&(i=0),ot.call(this,t,s),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=nt.create(this),this.context=this.canvas.getContext("2d"),r&&r.hasOwnProperty("align")){var h=r.align;delete r.align,r.halign=h}this.style=new o.a(this,r),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),ut.hasOwnProperty(s)||(ut[s]=new f.a),this.canvasText=new K({parent:this,context:this.context,parser:a,style:this.style,pensPool:ut[s]}),r&&r.padding&&this.setPadding(r.padding),this.setText(n),t.sys.game.config.renderType===Phaser.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},text:{set:function(t){this.setText(t)},get:function(){return this._text}},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",it(this.canvas,this.scene.sys.canvas),this.originX=1)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,n,r,o){return this.style.setShadow(t,e,i,n,r,o)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWrapMode:function(t){return this.style.setWrapMode(t)},setWrapWidth:function(t){return this.style.setWrapWidth(t)},setAlign:function(t){return this.style.setHAlign(t)},setLineSpacing:function(t){return this.style.setLineSpacing(t)},setPadding:function(t,e,i,n){if("object"===et(t)){var r=t,o=st(r,"x",null);null!==o?(t=o,i=o):(t=st(r,"left",0),i=st(r,"right",t));var s=st(r,"y",null);null!==s?(e=s,n=s):(e=st(r,"top",0),n=st(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText(!1)},setResolution:function(t){return this.style.setResolution(t)},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePenManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var n,r,o=this.padding;0===i.fixedWidth?(this.width=e.linesWidth+o.left+o.right,n=e.linesWidth):(this.width=i.fixedWidth,(n=this.width-o.left-o.right)<e.linesWidth&&(n=e.linesWidth)),0===i.fixedHeight?(this.height=e.linesHeight+o.top+o.bottom,r=e.linesHeight):(this.height=i.fixedHeight,(r=this.height-o.top-o.bottom)<e.linesHeight&&(r=e.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var h=i.resolution;s*=h,a*=h,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var u=this.canvas,l=this.context;u.width!==s||u.height!==a?(u.width=s,u.height=a,this.frame.setSize(s,a)):l.clearRect(0,0,s,a),l.save(),l.scale(h,h),e.draw(o.left,o.top,n,r),l.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=rt.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&at(this.canvas),nt.remove(this.canvas),this.canvasText.destroy()},setInteractive:function(t,e,i){return ot.prototype.setInteractive.call(this,t,e,i),this.canvasText.setInteractive(),this},getWrappedText:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(ht)},getPlainText:function(t,e,i){return this.canvasText.getPlainText(t,e,i)},getText:function(t,e,i){return this.canvasText.getText(t,e,i,!1)},getSubString:function(t,e,i){return this.getText(t,e,i)},copyPenManager:function(t){return this.canvasText.copyPenManager(t)},getPenManager:function(t,e){return this.canvasText.getPenManager(t,e)},setSize:function(t,e){return this.setFixedSize(t,e)},resize:function(t,e){return this.setFixedSize(t,e)},lineSpacing:{get:function(){return this.style.lineSpacing},set:function(t){this.setLineSpacing(t)}},imageManager:{get:function(){return t=this.scene.textures,void 0===q&&(q=new tt(t)),q;var t}},addImage:function(t,e){return this.imageManager.add(t,e),this},drawAreaBounds:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}});e.a=lt},58:function(t,e,i){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},59:function(t,e,i){"use strict";var n=i(3);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i,a;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setAlphaRange(s(t,"start",this.gameObject.alpha),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.alpha=this.alphaEnd,this.stop(),this.complete(),this):(this.gameObject.alpha=this.alphaStart,this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:this.alphaEnd,delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,i),a&&r(e,a),t}(),h={stop:0,destroy:1,yoyo:2},u=a;e.a=u},60:function(t,e,i){"use strict";var n=i(3);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i,a;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setScaleRange(s(t,"start",void 0),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this.setEase(o(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.on&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=o(t,"x",this.gameObject.scaleX),this.scaleStart.y=o(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=o(e,"x",this.scaleStart.x),this.scaleEnd.y=o(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween?this:(this.gameObject.scaleX=this.scaleStart.x,this.gameObject.scaleY=this.scaleStart.y,this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:this.scaleEnd.x,scaleY:this.scaleEnd.y,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,i),a&&r(e,a),t}(),h={stop:0,destroy:1,yoyo:2},u=a;e.a=u},61:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.GameObjects.Graphics,l=function(t){function e(t,i,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),"string"==typeof i&&(shaep=c[i]),void 0===n&&(n=0),(r=o(this,a(e).call(this,t.scene))).parent=t,r.shape=i,r.padding=n,r.setPosition().resize(),r}var i,n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,u),i=e,(n=[{key:"destroy",value:function(){return this.parent=void 0,s(a(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,i){var n=this.parent;return void 0===t&&(t=n.x),void 0===i&&(i=n.y),s(a(e.prototype),"setPosition",this).call(this,t,i),this}},{key:"resize",value:function(t,e,i){var n=this.parent;if(void 0===t&&(t=n.width),void 0===e&&(e=n.height),void 0===i&&(i=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===i)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+i);break;default:this.fillRect(-t*n.originX-i,-e*n.originY-i,t+2*i,e+2*i)}return this.widthSave=t,this.heightSave=e,this.paddingSave=i,this}}])&&r(i.prototype,n),l&&r(i,l),e}(),c={rectangle:0,circle:1};e.a=l},62:function(t,e,i){"use strict";var n=Phaser.GameObjects.GameObject;e.a=function(t){return t instanceof n}},63:function(t,e,i){"use strict";var n=function(t){t.stopPropagation()},r=function(t){t.addEventListener("touchstart",n,!1),t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",n,!1),t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",n,!1),t.addEventListener("mousemove",n,!1)};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.GameObjects.DOMElement,c=Phaser.Utils.Objects.IsPlainObject,f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,i,n,s,u,l){var d;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(i)?(i=f(l=i,"x",0),n=f(l,"y",0),s=f(l,"width",void 0),u=f(l,"height",void 0)):c(s)&&(s=f(l=s,"width",void 0),u=f(l,"height",void 0)),void 0===l&&(l={});var g,b=t.scale.autoRound;void 0!==s&&(b&&(s=Math.floor(s)),l.width=s+"px"),void 0!==u&&(b&&(u=Math.floor(u)),l.height=u+"px");var m,x,O=f(l,"type","text");for(var w in"textarea"===O?(g=document.createElement("textarea")).style.resize="none":(g=document.createElement("input")).type=O,p)m=p[w],void 0!==(x=f(l,w,m[1]))&&(g[m[0]]=x);var k,S,P=f(l,"style",void 0);for(var w in void 0===P&&(P={}),y)k=y[w],void 0!==(S=f(l,w,k[1]))&&(P[k[0]]=S);var C,T,j=g.style;for(var w in l)w in p||w in y||w in j&&(P[w]=l[w]);P["box-sizing"]="border-box",C=this,T=a(e).call(this,t,i,n,g,P),(d=!T||"object"!==o(T)&&"function"!=typeof T?h(C):T).type="rexInputText";var _=function(t){d.node[v[t]]=function(){this.emit(t,this)}.bind(h(d))};for(var E in v)_(E);return r(d.node),d}var i,n,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l),i=e,(n=[{key:"resize",value:function(t,e){var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}}])&&s(i.prototype,n),d&&s(i,d),e}(),p={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},y={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},v={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};e.a=d},66:function(t,e,i){"use strict";var n=i(34),r=i(29),o=i(18),s=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var o,a=s(i,"argsConvert",void 0),u=s(i,"argsConvertScope",void 0),l=t[0];if(h=Object(n.a)(h,t,1),a){!0===a&&(a=r.a,u=void 0);for(var c=0,f=h.length;c<f;c++)h[c]=u?a.call(u,h[c],t):a(h[c],t)}return"string"==typeof l?null==(o=e[l])&&(o=s(e,l,null)):o=l,o.apply(e,h)},h=[],u=function t(e,i,n){var r,h=s(n,"reverse",!1);if(Object(o.a)(e[0]))if(h)for(u=(l=e.length)-1;u>=0;u--)r=t(e[u],i,n);else for(var u=0,l=e.length;u<l;u++)r=t(e[u],i,n);else r=a(e,i,n);return r};e.a=u},7:function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},71:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=i(12),o=i(12);n(!0)&&(r=i(134)),n(!0)&&(o=i(135)),t.exports={renderWebGL:r,renderCanvas:o}},72:function(t,e,i){"use strict";var n=i(0),r=i.n(n),o=i(7);e.a={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:r()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){return this.data&&Object(o.a)(this.data),this}}},74:function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}},82:function(t,e,i){"use strict";var n=i(116);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.GameObjects.DOMElement,l=Phaser.Utils.Objects.IsPlainObject,c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i,n,r,o,h){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(i)?(i=c(h=i,"x",0),n=c(h,"y",0),r=c(h,"width",void 0),o=c(h,"height",void 0)):l(r)&&(r=c(h=r,"width",void 0),o=c(h,"height",void 0)),void 0===h&&(h={});var f=t.scale.autoRound;return void 0!==r&&(f&&(r=Math.floor(r)),h.width=r),void 0!==o&&(f&&(o=Math.floor(o)),h.height=o),(u=s(this,a(e).call(this,t,i,n))).type="rexVideo",u.setElement(u.createVideoElement(h)).load(c(h,"src","")),u}var i,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,Object(n["a"])(u)),i=e,(r=[{key:"resize",value:function(t,e){return this.width===t&&this.height===e?this:(this.node.width=t,this.node.height=e,this.updateSize(),this)}}])&&o(i.prototype,r),f&&o(i,f),e}();e.a=f},83:function(t,e,i){"use strict";var n=i(116),r=i(41);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.IsPlainObject,f=Phaser.Utils.Objects.GetValue,d=function(t){function e(t,i,n,r,o,s){var h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(i)?(i=f(s=i,"x",0),n=f(s,"y",0),r=f(s,"width",void 0),o=f(s,"height",void 0)):c(r)&&(r=f(s=r,"width",void 0),o=f(s,"height",void 0)),void 0===s&&(s={});var l=t.scale.autoRound;return void 0!==r&&(l&&(r=Math.floor(r)),s.width=r),void 0!==o&&(l&&(o=Math.floor(o)),s.height=o),(h=a(this,u(e).call(this,t,i,n,r,o))).type="rexVideoCanvas",h.createVideoElement(s),h.load(f(s,"src","")),h}var i,o,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,Object(n["a"])(r["a"])),i=e,(o=[{key:"renderWebGL",value:function(t,i,n,r,o){if(this.readyState>0)this.renderer.canvasToTexture(this.video,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture;else{var s=(t=this.renderer).gl;s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),t.setFramebuffer(null,!0)}h(u(e.prototype),"renderWebGL",this).call(this,t,i,n,r,o)}},{key:"renderCanvas",value:function(t,i,n,r,o){this.readyState>0?this.context.drawImage(this.video,0,0,this.canvas.width,this.canvas.height):this.context.clearRect(0,0,this.canvas.width,this.canvas.height),h(u(e.prototype),"renderCanvas",this).call(this,t,i,n,r,o)}},{key:"resize",value:function(t,i){return this.width===t&&this.height===i?this:(this.video.width=t,this.video.height=i,h(u(e.prototype),"resize",this).call(this,t,i),this)}}])&&s(i.prototype,o),d&&s(i,d),e}();e.a=d},84:function(t,e,i){"use strict";var n=i(35),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,d=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,u(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(h)),n}var i,d,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(d=[{key:"resetFromJSON",value:function(t){h(u(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(c(t,"time",250)),this.setTapInterval(c(t,"tapInterval",200)),this.setDragThreshold(c(t,"threshold",9)),this.setTapOffset(c(t,"tapOffset",10));var i=c(t,"taps",void 0);return void 0!==i?this.setTaps(i):(this.setMaxTaps(c(t,"maxTaps",void 0)),this.setMinTaps(c(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case p:this.state=y;break;case y:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=v,this.state=y);break;case v:this.state=y}}},{key:"onDragEnd",value:function(){this.state===y&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=v))}},{key:"onDrag",value:function(){this.state!==p&&this.pointer.getDistance()>this.dragThreshold&&(this.state=p)}},{key:"preUpdate",value:function(t,e){if(this.state===y){var i=this.lastPointer;if(i.isDown)t-i.downTime>this.holdTime&&(this.state=p);else t-i.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=v:this.state=p)}}},{key:"postUpdate",value:function(t,e){this.state===v&&(this.state=p)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===v}}])&&s(i.prototype,d),g&&s(i,g),e}(),p="IDLE",y="BEGIN",v="RECOGNIZED";e.a=d},85:function(t,e,i){"use strict";var n=i(35),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,u(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(h)),n}var i,f,v;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n["a"]),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(u(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",9)),this.setMinHoldTime(c(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?y:p}},{key:"onDragEnd",value:function(){this.state=d}},{key:"onDrag",value:function(){this.state!==d&&this.pointer.getDistance()>this.dragThreshold&&(this.state=d)}},{key:"preUpdate",value:function(t,e){this.state===p&&(t-this.pointer.downTime>=this.holdTime&&(this.state=y))}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===y}}])&&s(i.prototype,f),v&&s(i,v),e}(),d="IDLE",p="BEGIN",y="RECOGNIZED";e.a=f},88:function(t,e,i){"use strict";var n=function(t,e){for(var i=document.getElementsByTagName("script"),n=!1,r=0,o=i.length;r<o;r++)if(-1!=i[r].src.indexOf(t)){n=!0;break}if(!n){var s=document.createElement("script");s.type="text/javascript",s.src=t,e&&(s.onload=e),document.getElementsByTagName("head")[0].appendChild(s)}},r=!1,o=[],s=function(t){r?t():(window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){r=!0;for(var t=0,e=o.length;t<e;t++)o[t]();o=void 0},n("https://www.youtube.com/iframe_api")),o.push(t))};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=Phaser.GameObjects.DOMElement,d=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue,y=Phaser.Math.Clamp,v=function(t){function e(t,i,n,r,o,h){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(i)?(i=p(h=i,"x",0),n=p(h,"y",0),r=p(h,"width",void 0),o=p(h,"height",void 0)):d(r)&&(r=p(h=r,"width",void 0),o=p(h,"height",void 0)),void 0===h&&(h={});var f,y,v=t.scale.autoRound;void 0!==r&&(v&&(r=Math.floor(r)),h.width=r+"px"),void 0!==o&&(v&&(o=Math.floor(o)),h.height=o+"px"),f=this,(c=!(y=u(e).call(this,t,i,n))||"object"!==a(y)&&"function"!=typeof y?l(f):y).type="rexYoutubePlayer",c.youtubePlayer=void 0,c.videoState=void 0,c.videoId=p(h,"videoId",""),c.loop=p(h,"loop",!1),c.paddingCallbacks=[];var g="YT"+Date.now(),b=document.createElement("div");b.id=g,b.style.width=h.width,b.style.height=h.height,c.setElement(b);var m={autoplay:p(h,"autoPlay",!0)?1:0,controls:p(h,"controls",!0)?1:0,disablekb:p(h,"keyboardControl",!0)?0:1,modestbranding:p(h,"modestBranding",!1)?1:0},x=function(){var t=new YT.Player(g,{videoId:this.videoId,playerVars:m,events:{onStateChange:function(t){this.videoState=t.data,this.emit("statechange",this),this.emit(this.videoStateString,this),this.videoState===YT.PlayerState.ENDED&&this.loop&&this.youtubePlayer.playVideo()}.bind(this),onReady:function(e){this.youtubePlayer=t;for(var i=0,n=this.paddingCallbacks.length;i<n;i++)this.paddingCallbacks[i]();this.paddingCallbacks=void 0,this.emit("ready",this)}.bind(this),onError:function(t){this.lastError=t.data,this.emit("error",this,this.lastError)}.bind(this)}});this.setElement(document.getElementById(g))}.bind(l(c));return s(x),c}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,f),i=e,(n=[{key:"_runCallback",value:function(t){void 0===this.youtubePlayer?this.paddingCallbacks.push(t):t()}},{key:"load",value:function(t,e){void 0===e&&(e=!0);var i=function(){this.youtubePlayer.loadVideoById(t),e?this.youtubePlayer.playVideo():this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(i),this}},{key:"play",value:function(){var t=function(){this.youtubePlayer.playVideo()}.bind(this);return this._runCallback(t),this}},{key:"pause",value:function(){var t=function(){this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(t),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"resize",value:function(t,e){if(this.width===t&&this.height===e)return this;var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"videoStateString",get:function(){if(void 0===this.videoState||!YT)return"";switch(this.videoState){case-1:return"unstarted";case YT.PlayerState.ENDED:return"ended";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"pause";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"cued"}}},{key:"isPlaying",get:function(){return 1===this.videoState}},{key:"isPaused",get:function(){return 2===this.videoState}},{key:"playbackTime",get:function(){return this.youtubePlayer?this.youtubePlayer.getCurrentTime():0},set:function(t){var e=function(){this.youtubePlayer.seekTo(t)}.bind(this);this._runCallback(e)}},{key:"duration",get:function(){return this.youtubePlayer?this.youtubePlayer.getDuration():0}},{key:"t",get:function(){var t=this.duration;return 0===t?0:this.playbackTime/t},set:function(t){var e=function(){t=y(t,0,1),this.playbackTime=this.duration*y(t,0,1)}.bind(this);this._runCallback(e)}},{key:"hasEnded",get:function(){return 0===this.videoState}},{key:"volume",get:function(){return this.youtubePlayer?this.youtubePlayer.getVolume()/100:0},set:function(t){var e=function(){this.youtubePlayer.setVolume(y(100*t,0,100))}.bind(this);this._runCallback(e)}},{key:"muted",get:function(){return!!this.youtubePlayer&&this.youtubePlayer.isMuted()},set:function(t){var e=function(){t?this.youtubePlayer.mute():this.youtubePlayer.unMute()}.bind(this);this._runCallback(e)}}])&&h(i.prototype,n),r&&h(i,r),e}();e.a=v},9:function(t,e,i){"use strict";var n=i(4);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(o(i,"eventEmitter",void 0)),this.setTickingMode(o(i,"tickingMode",1))}var e,i,n;return e=t,(i=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&r(e.prototype,i),n&&r(e,n),t}();Object.assign(s.prototype,n.a);var a={no:0,lazy:1,always:2};e.a=s}}).default});